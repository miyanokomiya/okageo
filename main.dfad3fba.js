parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"WBaa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=n,exports.sub=e,exports.multi=o,exports.isSame=u,exports.getDistance=i,exports.getNorm=a,exports.isZero=x,exports.getUnit=s,exports.getCross=f,exports.getInner=c,exports.cloneVectors=h,exports.getCenter=y,exports.getRectCenter=p,exports.getPolygonCenter=l,exports.getRadian=g,exports.getSymmetry=v,exports.rotate=d,exports.solveEquationOrder2=M,exports.getPedal=m,exports.getCrossLineAndBezier=w,exports.isCrossSegAndSeg=b,exports.isTouchSegAndSeg=O,exports.isParallel=S,exports.isOnLine=E,exports.isOnSeg=A,exports.isOnPolygon=I,exports.getCrossSegAndLine=L,exports.isSameSeg=q,exports.splitPolyByLine=k,exports.triangleSplit=N,exports.isPointOnTriangle=j,exports.convertLoopwise=z,exports.getLoopwise=B,exports.getArea=U,exports.approximateBezier=G,exports.approximateArc=T,exports.approximateArcWithPoint=_,exports.getEllipseCenter=W,exports.getCircleCenter=Z,exports.transform=F,exports.omitSamePoint=H,exports.getRegularPolygonArea=J,exports.getRegularPolygonRadius=K,exports.getIncludedPolygonGroups=Q,exports.getPolygonNotPolygon=X,exports.getOuterRectangle=Y,exports.getGrid=$,exports.expandRecntagle=tt,exports.expandRecntagleScale=rt,exports.interpolateScaler=nt,exports.interpolateVector=et,exports.MINVALUE=void 0;var t=function(){return(t=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)},r=1e-6;function n(t,r){return{x:t.x+r.x,y:t.y+r.y}}function e(t,r){return{x:t.x-r.x,y:t.y-r.y}}function o(t,r){return{x:t.x*r,y:t.y*r}}function u(t,n){var o=e(t,n);return Math.abs(o.x)<r&&Math.abs(o.y)<r}function i(t,r){var n=e(t,r);return Math.sqrt(n.x*n.x+n.y*n.y)}function a(t){return i(t,{x:0,y:0})}function x(t){return a(t)<r}function s(t){var n=a(t);if(n<r)throw new Error("cannot get unit vector of zero vector");return o(t,1/n)}function f(t,r){return t.x*r.y-t.y*r.x}function c(t,r){return t.x*r.x+t.y*r.y}function h(r){return r.map(function(r){return t({},r)})}function y(t,r){return o(n(t,r),.5)}function p(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function l(t){return 0===t.length?{x:0,y:0}:o(t.reduce(function(t,r){return n(t,r)},{x:0,y:0}),1/t.length)}function g(t,r){void 0===r&&(r={x:0,y:0});var n=e(t,r);return Math.atan2(n.y,n.x)}function v(t,r){return void 0===r&&(r={x:0,y:0}),n(o(e(r,t),2),t)}function d(t,r,o){void 0===o&&(o={x:0,y:0});var u=e(t,o);return n({x:Math.cos(r)*u.x-Math.sin(r)*u.y,y:Math.sin(r)*u.x+Math.cos(r)*u.y},o)}function M(t,r,n){if(0===t)return 0===r?[]:[-n/r];var e=r*r-4*t*n;if(e<0)return[];var o=.5/t;if(0===e)return[-r*o];var u=Math.sqrt(e);return[(-r+u)*o,(-r-u)*o]}function m(t,r){if(2!==r.length)throw new Error("line must be length = 2");var u=r[0],i=e(r[1],u);return n(u,o(i,c(i,e(t,u))/c(i,i)))}function P(t,r,n,e,o){var u=o.x-e.x,i=o.y-e.y,a=t.x-2*r.x+n.x,x=2*(r.x-t.x),s=t.x,f=t.y-2*r.y+n.y,c=2*(r.y-t.y),h=t.y;return M(a*i-u*f,x*i-u*c,i*s-i*e.x-u*h+u*e.y)}function w(t,r,n,e,o){return P(t,r,n,e,o).filter(function(t){return 0<=t&&t<=1}).map(function(e){return{x:(n.x-2*r.x+t.x)*e*e+2*(r.x-t.x)*e+t.x,y:(n.y-2*r.y+t.y)*e*e+2*(r.y-t.y)*e+t.y}})}function b(t,r){var n=R(t,r),e=n.ta,o=n.tb;return n.tc*n.td<0&&e*o<0}function O(t,r){var n=R(t,r),e=n.ta,o=n.tb;return n.tc*n.td<=0&&e*o<=0}function R(t,r){var n=t[0].x,e=t[0].y,o=t[1].x,u=t[1].y,i=r[0].x,a=r[0].y,x=r[1].x,s=r[1].y;return{ta:(i-x)*(e-a)+(a-s)*(i-n),tb:(i-x)*(u-a)+(a-s)*(i-o),tc:(n-o)*(a-e)+(e-u)*(n-i),td:(n-o)*(s-e)+(e-u)*(n-x)}}function S(t,n){var e=f(t,n);return Math.abs(e)<r}function E(t,r){return x(e(t,m(t,r)))}function A(t,r){if(!x(e(t,m(t,r))))return!1;var n=e(r[1],r[0]),o=e(t,r[0]);return!(c(n,o)<0)&&!(a(n)<a(o))}function C(t,n){if(Math.abs(n[0].y-n[1].y)<r)return!1;var e,o;if(n[0].y<n[1].y?(o=n[0],e=n[1]):(e=n[0],o=n[1]),t.y<o.y||e.y<=t.y)return!1;var u=L(n,[t,{x:t.x+1,y:t.y}]);return!(!u||u.x<=t.x)}function I(t,r){if(r.find(function(r){return t.x===r.x&&t.y===r.y}))return!0;for(var n=r.map(function(t,n){return[t,n<r.length-1?r[n+1]:r[0]]}).filter(function(t){return!u(t[0],t[1])}),e=0;e<n.length;e++){var o=n[e];if(A(t,o))return!0}return n.filter(function(r){return C(t,r)}).length%2==1}function L(r,n){if(S(e(r[0],r[1]),e(n[0],n[1])))return null;if(E(r[0],n))return t({},r[0]);if(E(r[1],n))return t({},r[1]);var o=((n[1].x-n[0].x)*(r[0].y-n[0].y)-(n[1].y-n[0].y)*(r[0].x-n[0].x))/2,u=o/(o+((n[1].x-n[0].x)*(n[0].y-r[1].y)-(n[1].y-n[0].y)*(n[0].x-r[1].x))/2);return 0<u&&u<1?{x:r[0].x+(r[1].x-r[0].x)*u,y:r[0].y+(r[1].y-r[0].y)*u}:null}function q(t,r){return!(!u(t[0],r[0])||!u(t[1],r[1]))||!(!u(t[0],r[1])||!u(t[1],r[0]))}function k(t,r){var n=[],e=[],o=[];if(t.forEach(function(u,i){var a=L([u,t[(i+1)%t.length]],r);n.push(u),a&&(n.push(a),e.push(i+1+e.length),o.push(a))}),e.length%2!=0)return[];var u=g(r[0],r[1]);o.sort(function(t,r){return d(t,-u).x-d(r,-u).x});for(var i=[],a=0;a<o.length-1;a+=2){for(var x=[o[a],o[a+1]],s=!1,f=0;f<t.length;f++)if(q(x,[t[f],t[(f+1)%t.length]])){s=!0;break}if(!s){i=x;break}}if(2!==i.length)return[];var c=o.concat(),h=c.indexOf(i[0]);-1!==h&&c.splice(h,1),-1!==(h=c.indexOf(i[1]))&&c.splice(h,1);var y=n.concat();c.forEach(function(t){var r=y.indexOf(t);y.splice(r,1)}),o=i;var p=(n=y).indexOf(o[0]),l=n.indexOf(o[1]);if(-1===p||-1===l)return[];(e=[])[0]=Math.min(p,l),e[1]=Math.max(p,l);for(var v=[],M=[],m=0;m<=e[0];m++)M.push({x:n[m].x,y:n[m].y});for(m=e[1];m<n.length;m++)M.push({x:n[m].x,y:n[m].y});v.push(M),M=[];for(m=e[0];m<=e[1];m++)M.push({x:n[m].x,y:n[m].y});v.push(M);var P=[];return v.forEach(function(t){var n=k(t,r);0===n.length?P.push(t):P.push.apply(P,n)}),P}function N(t){for(var r=H(t=z(t)),n=0,o=0,u=[];r.length>=3;){var i=r.concat();i.sort(function(t,r){return a(r)-a(t)}),n=r.indexOf(i[0]);var x=V(r,n);if(x)r.splice(n,1);else{var s=r.length;o=f(e(r[(n+1)%s],r[n]),e(r[n-1<0?s-1:n-1],r[n]));for(var c=n;!x;){if(f(e(r[((c=(c+1)%s)+1)%s],r[c]),e(r[c-1<0?s-1:c-1],r[c]))*o>0&&(x=V(r,c)),c===n)throw new Error("failed to split triangles")}r.splice(c,1)}u.push(x)}return u}function V(t,r){var n=t.length,e=t[r],o=t[(r+1)%n],u=t[r-1<0?n-1:r-1],i=[e,o,u],a=!1;return t.some(function(t){return t!==e&&t!==o&&t!==u&&j(i,t)&&(a=!0),a}),a?null:i}function j(t,r){var n=e(t[1],t[0]),o=e(t[2],t[1]),u=e(t[0],t[2]),i=e(r,t[0]),a=e(r,t[1]),x=e(r,t[2]),s=f(n,a),c=f(o,x),h=f(u,i);return s>=0&&c>=0&&h>=0||s<=0&&c<=0&&h<=0}function z(t){var r=t.concat();return-1===B(t)&&r.reverse(),r}function B(t){var r=U(t,!0);return r>0?1:r<0?-1:0}function U(t,r){if(void 0===r&&(r=!1),t.length<3)return 0;for(var n=0,e=t.length,o=0;o<e-1;o++)n+=(t[o].x-t[o+1].x)*(t[o].y+t[o+1].y);return n+=(t[e-1].x-t[0].x)*(t[e-1].y+t[0].y),n/=2,r||(n=Math.abs(n)),n}function G(t,r){var n=[],e=1/r;if(3===t.length)for(var u=0;u<=r;u++){var i=e*u,a=o(t[0],(1-i)*(1-i)),x=o(t[1],2*i*(1-i)),s=o(t[2],i*i);n.push({x:a.x+x.x+s.x,y:a.y+x.y+s.y})}else{if(4!==t.length)throw new Error("connot approximate");for(u=0;u<=r;u++){i=e*u,a=o(t[0],(1-i)*(1-i)*(1-i)),x=o(t[1],3*i*(1-i)*(1-i)),s=o(t[2],3*i*i*(1-i));var f=o(t[3],i*i*i);n.push({x:a.x+x.x+s.x+f.x,y:a.y+x.y+s.y+f.y})}}return n}function T(t,r,e,o,u,i,a){for(var x=[],s=(o-e)/a,f=0;f<=a;f++){var c=s*f+e-i;x.push(n(d({x:t*Math.cos(c),y:r*Math.sin(c)},i),u))}return x}function _(t,r,n,e,o,u,i,a){if(t*r==0)return[n,e];var x=W(n,e,t=Math.abs(t),r=Math.abs(r),i),s=x.centers;t*=x.radiusRate,r*=x.radiusRate;var f=null,c=0,h=0,y=D(n,t,f=o&&u||!o&&!u?B([n,e,s[0]])<0?s[0]:s[1]:B([n,e,s[0]])>0?s[0]:s[1],i),p=D(e,t,f,i);return u?y>p?(c=y-2*Math.PI,h=p):(c=y,h=p):y>p?(c=y,h=p):(c=y,h=p-2*Math.PI),T(t,r,c,h,f,i,a)}function D(t,r,n,e){t=d(t,-e,n);var o=Math.acos((t.x-n.x)/r);return t.y-n.y<0&&(o=-o+2*Math.PI),o+=e,o%=2*Math.PI}function W(t,r,n,e,o){t=d(t,-o),r=d(r,-o);var u=Z({x:t.x/n,y:t.y/e},{x:r.x/n,y:r.y/e},1),i=u.centers,a={x:i[0].x*n,y:i[0].y*e},x={x:i[1].x*n,y:i[1].y*e};return{centers:[a=d(a,o),x=d(x,o)],radiusRate:u.radiusRate}}function Z(t,r,n){var e=(t.x+r.x)/2,o=(t.x-r.x)/2,u=(t.y+r.y)/2,i=(t.y-r.y)/2,a=Math.sqrt(o*o+i*i),x=Math.pow(n/a,2)-1;if(x<0){var s=y(t,r);return{centers:[s,s],radiusRate:a/n}}var f=Math.sqrt(x);return{centers:[{x:e+i*f,y:u-o*f},{x:e-i*f,y:u+o*f}],radiusRate:1}}function F(t,r){var n=r[0],e=r[1],o=r[2],u=r[3],i=r[4],a=r[5];return t.map(function(t){return{x:n*t.x+o*t.y+i,y:e*t.x+u*t.y+a}})}function H(t){for(var r=t.concat(),n=t.length,e=0;e<n;e++){if(u(r[e],r[(e+1)%n])){r.splice(e,1),r=H(r);break}}return r}function J(t,r){var n=Math.PI/r;return Math.pow(t,2)*Math.sin(n)*Math.cos(n)*r}function K(t,r){var n=Math.PI/r,e=t/r;return Math.sqrt(e/Math.sin(n)/Math.cos(n))}function Q(t){var r=t.concat();r.sort(function(t,r){return U(r)-U(t)});var n={},e=[];return r.forEach(function(t,o){if(!n[o]){n[o]=!0;var u=[t].concat(r.filter(function(r,e){return!n[e]&&(r.filter(function(r){return I(r,t)}).length===r.length&&(n[e]=!0,!0))}));e.push(u)}}),e}function X(t,r){for(var n=[],e=-1,o=[],u=[],a=0;a<t.length;a++){for(var x=[t[a],t[(a+1)%t.length]],s=0;s<r.length;s++){var f=[r[s],r[(s+1)%r.length]];if(b(x,f)){var c=L(x,f);c&&(e=a,o.push(s),u.push(c))}}if(-1!==e)break}if(-1===e)return t;if(o.length%2!=0)return t;var h=u.map(function(r){return i(r,t[e])}),y=h.concat().sort(function(t,r){return t-r}),p=h.indexOf(y[0]),l=o[p],g=r.concat();for(s=0;s<l;s++)g.push(g.shift());for(var v=o.map(function(t){return(t-l+r.length)%r.length}),d=u.concat(),M=0;M<p;M++)v.push(v.shift()),d.push(d.shift());for(a=0;a<t.length;a++)n.push(t[(a+e+1)%t.length]);for(a=0;a<v.length/2;a++){var m=v[2*a],P=v[2*a+1];n.push(d[2*a]);for(s=m+1;s<=P;s++)n.push(g[s]);n.push(d[2*a+1])}return n}function Y(t){if(0===t.length)return{x:0,y:0,width:0,height:0};for(var r=1/0,n=1/0,e=-1/0,o=-1/0,u=0;u<t.length;u++)for(var i=t[u],a=0;a<i.length;a++){var x=i[a];r=Math.min(r,x.x),n=Math.min(n,x.y),e=Math.max(e,x.x),o=Math.max(o,x.y)}return{x:r,y:n,width:e-r,height:o-n}}function $(t,r,n,e){void 0===n&&(n=0),void 0===e&&(e=0);for(var o=[],u=t.x,i=t.x+t.width,a=t.y,x=t.y+t.height,s=u+n;s<i;)u<s&&s<i&&o.push([{x:s,y:a},{x:s,y:x}]),s+=r;for(var f=a+e;f<x;)a<f&&f<x&&o.push([{x:u,y:f},{x:i,y:f}]),f+=r;return o}function tt(t,r,n){return{x:t.x-r/2,y:t.y-n/2,width:t.width+r,height:t.height+n}}function rt(t,r,n){return tt(t,t.width*(r-1),t.height*(n-1))}function nt(t,r,n){return t*(1-n)+r*n}function et(t,r,n){return{x:nt(t.x,r.x,n),y:nt(t.y,r.y,n)}}exports.MINVALUE=r;
},{}],"tzhc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.draw=o,exports.fitRect=s,exports.parseSvgGraphicsStr=p,exports.parseSvgGraphics=c,exports.openCommandToD=u,exports.parseOpenPath=f,exports.parsePathD=y,exports.parsePath=h,exports.parseRect=x,exports.parseEllipse=g,exports.parseCircle=m,exports.adoptTransform=b,exports.splitD=d,exports.serializeSvgString=v,exports.serializeSvg=F,exports.serializePath=S,exports.serializePointList=k,exports.createStyle=A,exports.parseTagStyle=z,exports.serializeStyle=P,exports.splitPath=M,exports.getGroupedPathList=E,exports.configs=void 0;var e=r(require("./geo"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=l?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(a,i,n):a[i]=e[i]}return a.default=e,r&&r.set(e,a),a}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},l=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),l=0;for(t=0;t<r;t++)for(var i=arguments[t],n=0,o=i.length;n<o;n++,l++)a[l]=i[n];return a},i="http://www.w3.org/2000/svg",n={bezierSplitSize:10,ellipseSplitSize:20};function o(e,t){e.lineCap=t.style.lineCap,e.lineJoin=t.style.lineJoin,e.beginPath(),t.d.forEach(function(t,r){0===r?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}),e.closePath(),t.included&&t.included.forEach(function(t){t.forEach(function(t,r){0===r?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}),e.closePath()}),t.style.fill&&(e.fillStyle=t.style.fillStyle,e.globalAlpha=t.style.fillGlobalAlpha,e.fill()),t.style.stroke&&(e.strokeStyle=t.style.strokeStyle,e.globalAlpha=t.style.strokeGlobalAlpha,e.lineWidth=t.style.lineWidth,e.setLineDash(t.style.lineDash),e.stroke()),e.globalAlpha=1}function s(e,t,r,l,i){var n=1/0,o=-1/0,s=1/0,p=-1/0;e.forEach(function(e){e.d.forEach(function(e){n=Math.min(n,e.x),o=Math.max(o,e.x),s=Math.min(s,e.y),p=Math.max(p,e.y)})});var c=e.map(function(e){return a(a({},e),{d:e.d.map(function(e){return{x:e.x-n,y:e.y-s}})})}),u=o-n,f=p-s,y=l/u,h=i/f,x=Math.min(y,h),g=c.map(function(e){return a(a({},e),{d:e.d.map(function(e){return{x:e.x*x,y:e.y*x}})})}),m=t+(l-u*x)/2,b=r+(i-f*x)/2;return g.map(function(e){return a(a({},e),{d:e.d.map(function(e){return{x:e.x+m,y:e.y+b}}),included:(e.included||[]).map(function(e){return e.map(function(e){return{x:(e.x-n)*x+m,y:(e.y-s)*x+b}})})})})}function p(e){var t=(new DOMParser).parseFromString(e,"image/svg+xml").getElementsByTagName("svg");return t&&0!==t.length?c(t[0]):[]}function c(e){for(var t=[],r=e.getElementsByTagName("path"),a=0;a<r.length;a++){var l=r[a];t.push({d:h(l),style:z(l)})}var i=e.getElementsByTagName("rect");for(a=0;a<i.length;a++){l=i[a];t.push({d:x(l),style:z(l)})}var n=e.getElementsByTagName("ellipse");for(a=0;a<n.length;a++){l=n[a];t.push({d:g(l),style:z(l)})}var o=e.getElementsByTagName("circle");for(a=0;a<o.length;a++){l=o[a];t.push({d:m(l),style:z(l)})}return t}function u(e){var t=e.type;return"x1"in e&&(t+=" "+e.x1),"y1"in e&&(t+=" "+e.y1),"x2"in e&&(t+=" "+e.x2),"y2"in e&&(t+=" "+e.y2),"x3"in e&&(t+=" "+e.x3),"y3"in e&&(t+=" "+e.y3),"x"in e&&(t+=" "+e.x),"y"in e&&(t+=" "+e.y),t}function f(e){var t=[],r="";return e.commands.forEach(function(e){if((r+=u(e)+" ")&&"Z"===e.type.toUpperCase()){var l=y(r);t.push({d:l,style:a(a({},A()),{fill:!0,fillStyle:"black",stroke:!1})}),r=""}}),t}function y(t){var r=[],a=d(t),l={x:0,y:0},i={x:0,y:0};return a.forEach(function(t){var a=[],o=null,s=null,p=null,c=null;switch(t[0]){case"M":case"L":a.push({x:parseFloat(t[1]),y:parseFloat(t[2])});break;case"m":case"l":a.push({x:l.x+parseFloat(t[1]),y:l.y+parseFloat(t[2])});break;case"H":a.push({x:parseFloat(t[1]),y:l.y});break;case"V":a.push({x:l.x,y:parseFloat(t[1])});break;case"h":a.push({x:l.x+parseFloat(t[1]),y:l.y});break;case"v":a.push({x:l.x,y:l.y+parseFloat(t[1])});break;case"Q":o=l,s={x:parseFloat(t[1]),y:parseFloat(t[2])},p={x:parseFloat(t[3]),y:parseFloat(t[4])},(a=e.approximateBezier([o,s,p],n.bezierSplitSize)).shift();break;case"q":s={x:(o=l).x+parseFloat(t[1]),y:o.y+parseFloat(t[2])},p={x:o.x+parseFloat(t[3]),y:o.y+parseFloat(t[4])},(a=e.approximateBezier([o,s,p],n.bezierSplitSize)).shift();break;case"T":o=l,s=e.getSymmetry(o,i),p={x:parseFloat(t[1]),y:parseFloat(t[2])},(a=e.approximateBezier([o,s,p],n.bezierSplitSize)).shift();break;case"t":o=l,s=e.getSymmetry(o,i),p={x:o.x+parseFloat(t[1]),y:o.y+parseFloat(t[2])},(a=e.approximateBezier([o,s,p],n.bezierSplitSize)).shift();break;case"C":o=l,s={x:parseFloat(t[1]),y:parseFloat(t[2])},p={x:parseFloat(t[3]),y:parseFloat(t[4])},c={x:parseFloat(t[5]),y:parseFloat(t[6])},(a=e.approximateBezier([o,s,p,c],n.bezierSplitSize)).shift();break;case"c":s={x:(o=l).x+parseFloat(t[1]),y:o.y+parseFloat(t[2])},p={x:o.x+parseFloat(t[3]),y:o.y+parseFloat(t[4])},c={x:o.x+parseFloat(t[5]),y:o.y+parseFloat(t[6])},(a=e.approximateBezier([o,s,p,c],n.bezierSplitSize)).shift();break;case"S":o=l,s=e.getSymmetry(o,i),p={x:parseFloat(t[1]),y:parseFloat(t[2])},c={x:parseFloat(t[3]),y:parseFloat(t[4])},(a=e.approximateBezier([o,s,p,c],n.bezierSplitSize)).shift();break;case"s":o=l,s=e.getSymmetry(o,i),p={x:o.x+parseFloat(t[1]),y:o.y+parseFloat(t[2])},c={x:o.x+parseFloat(t[3]),y:o.y+parseFloat(t[4])},(a=e.approximateBezier([o,s,p,c],n.bezierSplitSize)).shift();break;case"A":o=l,s={x:parseFloat(t[6]),y:parseFloat(t[7])},(a=e.approximateArcWithPoint(parseFloat(t[1]),parseFloat(t[2]),o,s,!!parseInt(t[4],10),!!parseInt(t[5],10),parseFloat(t[3])/180*Math.PI,n.bezierSplitSize)).shift();break;case"a":s={x:(o=l).x+parseFloat(t[6]),y:o.y+parseFloat(t[7])},(a=e.approximateArcWithPoint(parseFloat(t[1]),parseFloat(t[2]),o,s,!!parseInt(t[4],10),!!parseInt(t[5],10),parseFloat(t[3])/180*Math.PI,n.bezierSplitSize)).shift()}a.length>0&&(l=a[a.length-1],r=r.concat(a),a.length>1&&(i=a[a.length-2]))}),r}function h(e){var t=e.getAttribute("d");return t?b(e.getAttribute("transform"),y(t)):[]}function x(e){var t=[],r=parseFloat(e.getAttribute("x")||"0"),a=parseFloat(e.getAttribute("y")||"0"),l=parseFloat(e.getAttribute("width")||"0"),i=parseFloat(e.getAttribute("height")||"0");return t.push({x:r,y:a}),t.push({x:r+l,y:a}),t.push({x:r+l,y:a+i}),t.push({x:r,y:a+i}),t=b(e.getAttribute("transform"),t)}function g(t){var r=[],a=parseFloat(t.getAttribute("cx")||"0"),l=parseFloat(t.getAttribute("cy")||"0"),i=parseFloat(t.getAttribute("rx")||"1"),o=parseFloat(t.getAttribute("ry")||"1");return r=e.approximateArc(i,o,0,2*Math.PI,{x:a,y:l},0,n.ellipseSplitSize),r=b(t.getAttribute("transform"),r)}function m(t){var r=[],a=parseFloat(t.getAttribute("cx")||"0"),l=parseFloat(t.getAttribute("cy")||"0"),i=parseFloat(t.getAttribute("r")||"1");return r=e.approximateArc(i,i,0,2*Math.PI,{x:a,y:l},0,n.ellipseSplitSize),r=b(t.getAttribute("transform"),r)}function b(t,r){if(!t)return r;var a=e.cloneVectors(r);return t.split(/\)/).forEach(function(t){var r=t.split(/\(/);if(2===r.length){var l=r[0],i=[];switch(r[1].split(/,/).forEach(function(e){return i.push(parseFloat(e))}),l.trim().toLowerCase()){case"matrix":a=e.transform(a,i);break;case"translate":a=a.map(function(e){return{x:e.x+i[0],y:e.y+i[1]}});break;case"scale":var n=i[0],o=i[0];i.length>1&&(o=i[1]),a=a.map(function(e){return{x:e.x*n,y:e.y*o}});break;case"rotate":var s={x:0,y:0};i.length>2&&(s={x:i[1],y:i[2]}),a=a.map(function(t){return e.rotate(t,i[0]*Math.PI/180,s)});break;case"skewx":a=a.map(function(e){return{x:e.x+Math.tan(i[0]*Math.PI/180)*e.y,y:e.y}});break;case"skewy":a=a.map(function(e){return{x:e.x,y:e.y+Math.tan(i[0]*Math.PI/180)*e.x}})}}}),a}function d(e){for(var t=/M|m|L|l|H|h|V|v|C|c|S|s|Q|q|T|t|A|a|Z|z/g,r=e.replace(t," $& ").replace(/([^e])(-\d(\d*\.?)\d*)/g,"$1 $2 ").split(/,| /).filter(function(e){return e}),a="M",l=[],i=0;i<r.length;){var n=[];if(r[i].match(t)?(n[0]=r[i].trim(),a=n[0],i++):n[0]=a,n[0].match(/Z|z/));else if(n[0].match(/V|v|H|h/))n=n.concat(r.slice(i,i+1)),i+=1;else if(n[0].match(/M|m|L|l|T|t/))n=n.concat(r.slice(i,i+2)),i+=2;else if(n[0].match(/Q|q|S|s/))n=n.concat(r.slice(i,i+4)),i+=4;else if(n[0].match(/C|c/))n=n.concat(r.slice(i,i+6)),i+=6;else{if(!n[0].match(/A|a/))break;n=n.concat(r.slice(i,i+7)),i+=7}l.push(n)}return l}function v(e){var t=F(e);return(new XMLSerializer).serializeToString(t)}function F(e){var t=document.createElementNS(i,"svg"),r=1,a=1;return e.forEach(function(e){t.appendChild(S(e.d,e.style)),e.d.forEach(function(e){r=Math.max(r,e.x),a=Math.max(a,e.y)})}),r*=1.1,a*=1.1,t.setAttribute("width",""+r),t.setAttribute("height",""+a),t}function S(e,t){var r=document.createElementNS(i,"path");return r.setAttribute("d",k(e)),r.setAttribute("style",P(t)),r}function k(e,t){if(0===e.length)return"";var r=e[0],a=e.slice(1);return"M "+r.x+","+r.y+a.map(function(e){return" L "+e.x+","+e.y}).join("")+(t?"":" Z")}function A(){return{fill:!1,fillGlobalAlpha:1,fillStyle:"",lineCap:"butt",lineDash:[],lineJoin:"bevel",lineWidth:1,stroke:!1,strokeGlobalAlpha:1,strokeStyle:""}}function z(e){var t=A(),r={},a=e.getAttributeNode("style");a?a.value.split(";").forEach(function(e){var t=e.split(":");2===t.length&&(r[t[0].trim()]=t[1].trim())}):e.getAttributeNames().forEach(function(t){var a=e.getAttributeNode(t);a&&(r[a.name]=a.value)});return Object.keys(r).forEach(function(e){e=e.toLowerCase();var a=r[e];if("fill"===e)"none"===a?(t.fillStyle="",t.fill=!1):(t.fillStyle=a,t.fill=!0);else if("stroke"===e)"none"===a?(t.strokeStyle="",t.stroke=!1):(t.strokeStyle=a,t.stroke=!0);else if("stroke-width"===e)t.lineWidth=parseFloat(a);else if("stroke-opacity"===e)t.strokeGlobalAlpha=parseFloat(a);else if("fill-opacity"===e)t.fillGlobalAlpha=parseFloat(a);else if("stroke-linecap"===e)t.lineCap=a;else if("stroke-linejoin"===e)t.lineJoin=a;else if("stroke-dasharray"===e)if("none"===a.toLowerCase())t.lineDash=[];else{var l=a.split(",");t.lineDash=[],l.forEach(function(e){t.lineDash.push(parseFloat(e))})}}),t}function P(e){var t="";return e.fill?t+="fill:"+e.fillStyle+";":t+="fill:none;",e.fillGlobalAlpha&&(t+="fill-opacity:"+e.fillGlobalAlpha+";"),e.stroke?t+="stroke:"+e.strokeStyle+";":t+="stroke:none;",e.lineWidth&&(t+="stroke-width:"+e.lineWidth+";"),e.strokeGlobalAlpha&&(t+="stroke-opacity:"+e.strokeGlobalAlpha+";"),e.lineCap&&(t+="stroke-linecap:"+e.lineCap+";"),e.lineJoin&&(t+="stroke-linejoin:"+e.lineJoin+";"),e.lineDash&&(e.lineDash.length>0?t+="stroke-dasharray:"+e.lineDash.join(",")+";":t+="stroke-dasharray:none;"),t}function M(t,r){var a=e.splitPolyByLine(t.d,r);if(a.length<2)return[t];var i=e.getLoopwise(t.d),n=[],o=[];t.included&&t.included.forEach(function(t){e.getLoopwise(t)===i?n.push(t):o.push(t)}),n.forEach(function(t){var i=e.splitPolyByLine(t,r);a=l(a,i.length>0?i:[t])});var s=[];o.forEach(function(t){e.splitPolyByLine(t,r).length>0?s.push(t):a.push(t)});var p=a.map(function(t){return s.reduce(function(t,r){return e.getPolygonNotPolygon(t,r)},t)});return e.getIncludedPolygonGroups(p).map(function(e){return{d:e[0],included:e.slice(1),style:t.style}})}function E(t,r){return void 0===r&&(r=A()),e.getIncludedPolygonGroups(t).map(function(e){return{d:e[0],included:e.slice(1),style:r}})}exports.configs=n;
},{"./geo":"WBaa"}],"ZCfc":[function(require,module,exports) {
"use strict";var e=n(require("../src/geo")),t=n(require("../src/svg"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=document.getElementById("canvas"),c=a.getContext("2d");if(c){c.clearRect(0,0,a.width,a.height);var l=[{x:0,y:0},{x:100,y:0},{x:0,y:100}],o=[{x:-100,y:-100},{x:-100,y:400},{x:200,y:-100}],f=[{x:-200,y:-200},{x:300,y:-200},{x:-200,y:600}],u=[{d:[{x:-300,y:50},{x:200,y:50},{x:200,y:100},{x:-300,y:100}],style:i(i({},t.createStyle()),{fill:!0,fillStyle:"red"})},{d:f,included:[o,l],style:i(i({},t.createStyle()),{fill:!0,fillStyle:"blue"})}],y=t.fitRect(u,0,0,a.width,a.height);y.forEach(function(e){return t.draw(c,e)})}var d=document.getElementById("input");d.onchange=function(r){var n=r.target.files;if(n&&0!==n.length){var i=new FileReader;i.readAsText(n[0]),i.onload=function(){if(c){c.clearRect(0,0,a.width,a.height);var r=t.parseSvgGraphicsStr(i.result);t.fitRect(r,0,0,a.width,a.height).forEach(function(r){e.triangleSplit(r.d).forEach(function(e){t.draw(c,{d:e,style:r.style})})})}}}};
},{"../src/geo":"WBaa","../src/svg":"tzhc"}]},{},["ZCfc"], null)
//# sourceMappingURL=main.dfad3fba.js.map