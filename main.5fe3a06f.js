parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"WBaa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=e,exports.sub=o,exports.multi=u,exports.isSame=i,exports.getDistance=a,exports.getNorm=x,exports.isZero=s,exports.getUnit=f,exports.getCross=c,exports.getInner=h,exports.cloneVectors=y,exports.getCenter=p,exports.getRectCenter=l,exports.getPolygonCenter=g,exports.getRadian=v,exports.getSymmetry=d,exports.rotate=M,exports.solveEquationOrder2=m,exports.getPedal=w,exports.getCrossLineAndBezier=b,exports.isCrossSegAndSeg=O,exports.isTouchSegAndSeg=E,exports.isParallel=A,exports.isOnLine=R,exports.isOnSeg=S,exports.isOnPolygon=q,exports.getCrossSegAndLine=L,exports.isSameSeg=N,exports.splitPolyByLine=z,exports.triangleSplit=B,exports.isPointOnTriangle=F,exports.convertLoopwise=_,exports.getLoopwise=k,exports.getArea=V,exports.approximateBezier=j,exports.getPointOnBezier2=D,exports.getPointOnBezier3=U,exports.getYOnBezier3AtX=Y,exports.approximateArc=G,exports.approximateArcWithPoint=W,exports.getEllipseCenter=Z,exports.getCircleCenter=H,exports.transform=J,exports.invertTransform=K,exports.multiAffine=Q,exports.multiAffines=$,exports.omitSamePoint=rr,exports.getRegularPolygonArea=tr,exports.getRegularPolygonRadius=nr,exports.getIncludedPolygonGroups=er,exports.getPolygonNotPolygon=or,exports.getOuterRectangle=ur,exports.getGrid=ir,exports.expandRecntagle=ar,exports.expandRecntagleScale=xr,exports.interpolateScaler=sr,exports.interpolateVector=fr,exports._solveBezier3Fomula=cr,exports.IDENTITY_AFFINE=exports.MINVALUE=void 0;var r=function(){return(r=Object.assign||function(r){for(var t,n=1,e=arguments.length;n<e;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)},t=1e-6;exports.MINVALUE=t;var n=[1,0,0,1,0,0];function e(r,t){return{x:r.x+t.x,y:r.y+t.y}}function o(r,t){return{x:r.x-t.x,y:r.y-t.y}}function u(r,t){return{x:r.x*t,y:r.y*t}}function i(r,n){var e=o(r,n);return Math.abs(e.x)<t&&Math.abs(e.y)<t}function a(r,t){var n=o(r,t);return Math.sqrt(n.x*n.x+n.y*n.y)}function x(r){return a(r,{x:0,y:0})}function s(r){return x(r)<t}function f(r){var n=x(r);if(n<t)throw new Error("cannot get unit vector of zero vector");return u(r,1/n)}function c(r,t){return r.x*t.y-r.y*t.x}function h(r,t){return r.x*t.x+r.y*t.y}function y(t){return t.map(function(t){return r({},t)})}function p(r,t){return u(e(r,t),.5)}function l(r){return{x:r.x+r.width/2,y:r.y+r.height/2}}function g(r){return 0===r.length?{x:0,y:0}:u(r.reduce(function(r,t){return e(r,t)},{x:0,y:0}),1/r.length)}function v(r,t){void 0===t&&(t={x:0,y:0});var n=o(r,t);return Math.atan2(n.y,n.x)}function d(r,t){return void 0===t&&(t={x:0,y:0}),e(u(o(t,r),2),r)}function M(r,t,n){void 0===n&&(n={x:0,y:0});var u=o(r,n);return e({x:Math.cos(t)*u.x-Math.sin(t)*u.y,y:Math.sin(t)*u.x+Math.cos(t)*u.y},n)}function m(r,t,n){if(0===r)return 0===t?[]:[-n/t];var e=t*t-4*r*n;if(e<0)return[];var o=.5/r;if(0===e)return[-t*o];var u=Math.sqrt(e);return[(-t+u)*o,(-t-u)*o]}function w(r,t){if(2!==t.length)throw new Error("line must be length = 2");var n=t[0],i=o(t[1],n);return e(n,u(i,h(i,o(r,n))/h(i,i)))}function P(r,t,n,e,o){var u=o.x-e.x,i=o.y-e.y,a=r.x-2*t.x+n.x,x=2*(t.x-r.x),s=r.x,f=r.y-2*t.y+n.y,c=2*(t.y-r.y),h=r.y;return m(a*i-u*f,x*i-u*c,i*s-i*e.x-u*h+u*e.y)}function b(r,t,n,e,o){return P(r,t,n,e,o).filter(function(r){return 0<=r&&r<=1}).map(function(e){return{x:(n.x-2*t.x+r.x)*e*e+2*(t.x-r.x)*e+r.x,y:(n.y-2*t.y+r.y)*e*e+2*(t.y-r.y)*e+r.y}})}function O(r,t){var n=I(r,t),e=n.ta,o=n.tb;return n.tc*n.td<0&&e*o<0}function E(r,t){var n=I(r,t),e=n.ta,o=n.tb;return n.tc*n.td<=0&&e*o<=0}function I(r,t){var n=r[0].x,e=r[0].y,o=r[1].x,u=r[1].y,i=t[0].x,a=t[0].y,x=t[1].x,s=t[1].y;return{ta:(i-x)*(e-a)+(a-s)*(i-n),tb:(i-x)*(u-a)+(a-s)*(i-o),tc:(n-o)*(a-e)+(e-u)*(n-i),td:(n-o)*(s-e)+(e-u)*(n-x)}}function A(r,n){var e=c(r,n);return Math.abs(e)<t}function R(r,t){return s(o(r,w(r,t)))}function S(r,t){if(!s(o(r,w(r,t))))return!1;var n=o(t[1],t[0]),e=o(r,t[0]);return!(h(n,e)<0)&&!(x(n)<x(e))}function C(r,n){if(Math.abs(n[0].y-n[1].y)<t)return!1;var e,o;if(n[0].y<n[1].y?(o=n[0],e=n[1]):(e=n[0],o=n[1]),r.y<o.y||e.y<=r.y)return!1;var u=L(n,[r,{x:r.x+1,y:r.y}]);return!(!u||u.x<=r.x)}function q(r,t){if(t.find(function(t){return r.x===t.x&&r.y===t.y}))return!0;for(var n=t.map(function(r,n){return[r,n<t.length-1?t[n+1]:t[0]]}).filter(function(r){return!i(r[0],r[1])}),e=0;e<n.length;e++){var o=n[e];if(S(r,o))return!0}return n.filter(function(t){return C(r,t)}).length%2==1}function L(t,n){if(A(o(t[0],t[1]),o(n[0],n[1])))return null;if(R(t[0],n))return r({},t[0]);if(R(t[1],n))return r({},t[1]);var e=((n[1].x-n[0].x)*(t[0].y-n[0].y)-(n[1].y-n[0].y)*(t[0].x-n[0].x))/2,u=e/(e+((n[1].x-n[0].x)*(n[0].y-t[1].y)-(n[1].y-n[0].y)*(n[0].x-t[1].x))/2);return 0<u&&u<1?{x:t[0].x+(t[1].x-t[0].x)*u,y:t[0].y+(t[1].y-t[0].y)*u}:null}function N(r,t){return!(!i(r[0],t[0])||!i(r[1],t[1]))||!(!i(r[0],t[1])||!i(r[1],t[0]))}function z(r,t){var n=[],e=[],o=[];if(r.forEach(function(u,i){var a=L([u,r[(i+1)%r.length]],t);n.push(u),a&&(n.push(a),e.push(i+1+e.length),o.push(a))}),e.length%2!=0)return[];var u=v(t[0],t[1]);o.sort(function(r,t){return M(r,-u).x-M(t,-u).x});for(var i=[],a=0;a<o.length-1;a+=2){for(var x=[o[a],o[a+1]],s=!1,f=0;f<r.length;f++)if(N(x,[r[f],r[(f+1)%r.length]])){s=!0;break}if(!s){i=x;break}}if(2!==i.length)return[];var c=o.concat(),h=c.indexOf(i[0]);-1!==h&&c.splice(h,1),-1!==(h=c.indexOf(i[1]))&&c.splice(h,1);var y=n.concat();c.forEach(function(r){var t=y.indexOf(r);y.splice(t,1)}),o=i;var p=(n=y).indexOf(o[0]),l=n.indexOf(o[1]);if(-1===p||-1===l)return[];(e=[])[0]=Math.min(p,l),e[1]=Math.max(p,l);for(var g=[],d=[],m=0;m<=e[0];m++)d.push({x:n[m].x,y:n[m].y});for(m=e[1];m<n.length;m++)d.push({x:n[m].x,y:n[m].y});g.push(d),d=[];for(m=e[0];m<=e[1];m++)d.push({x:n[m].x,y:n[m].y});g.push(d);var w=[];return g.forEach(function(r){var n=z(r,t);0===n.length?w.push(r):w.push.apply(w,n)}),w}function B(r){for(var t=rr(r=_(r)),n=0,e=0,u=[];t.length>=3;){var i=t.concat();i.sort(function(r,t){return x(t)-x(r)}),n=t.indexOf(i[0]);var a=T(t,n);if(a)t.splice(n,1);else{var s=t.length;e=c(o(t[(n+1)%s],t[n]),o(t[n-1<0?s-1:n-1],t[n]));for(var f=n;!a;){if(c(o(t[((f=(f+1)%s)+1)%s],t[f]),o(t[f-1<0?s-1:f-1],t[f]))*e>0&&(a=T(t,f)),f===n)throw new Error("failed to split triangles")}t.splice(f,1)}u.push(a)}return u}function T(r,t){var n=r.length,e=r[t],o=r[(t+1)%n],u=r[t-1<0?n-1:t-1],i=[e,o,u],a=!1;return r.some(function(r){return r!==e&&r!==o&&r!==u&&F(i,r)&&(a=!0),a}),a?null:i}function F(r,t){var n=o(r[1],r[0]),e=o(r[2],r[1]),u=o(r[0],r[2]),i=o(t,r[0]),a=o(t,r[1]),x=o(t,r[2]),s=c(n,a),f=c(e,x),h=c(u,i);return s>=0&&f>=0&&h>=0||s<=0&&f<=0&&h<=0}function _(r){var t=r.concat();return-1===k(r)&&t.reverse(),t}function k(r){var t=V(r,!0);return t>0?1:t<0?-1:0}function V(r,t){if(void 0===t&&(t=!1),r.length<3)return 0;for(var n=0,e=r.length,o=0;o<e-1;o++)n+=(r[o].x-r[o+1].x)*(r[o].y+r[o+1].y);return n+=(r[e-1].x-r[0].x)*(r[e-1].y+r[0].y),n/=2,t||(n=Math.abs(n)),n}function j(r,t){var n=[],e=1/t;if(3===r.length)for(var o=0;o<=t;o++)n.push(D(r,e*o));else{if(4!==r.length)throw new Error("connot approximate");for(o=0;o<=t;o++)n.push(U(r,e*o))}return n}function D(r,t){var n=t,e=u(r[0],(1-n)*(1-n)),o=u(r[1],2*n*(1-n)),i=u(r[2],n*n);return{x:e.x+o.x+i.x,y:e.y+o.y+i.y}}function U(r,t){var n=t,e=u(r[0],(1-n)*(1-n)*(1-n)),o=u(r[1],3*n*(1-n)*(1-n)),i=u(r[2],3*n*n*(1-n)),a=u(r[3],n*n*n);return{x:e.x+o.x+i.x+a.x,y:e.y+o.y+i.y+a.y}}function Y(r,t){var n=r[0],e=r[1],o=r[2],u=r[3],i=cr(-n.x+3*e.x-3*o.x+u.x,3*n.x-6*e.x+3*o.x,-3*n.x+3*e.x,n.x-t),a=i*i,x=i*i*i,s=1-i,f=s*s;return f*s*n.y+3*i*f*e.y+3*a*s*o.y+x*u.y}function G(r,t,n,o,u,i,a){for(var x=[],s=(o-n)/a,f=0;f<=a;f++){var c=s*f+n-i;x.push(e(M({x:r*Math.cos(c),y:t*Math.sin(c)},i),u))}return x}function W(r,t,n,e,o,u,i,a){if(r*t==0)return[n,e];var x=Z(n,e,r=Math.abs(r),t=Math.abs(t),i),s=x.centers;r*=x.radiusRate,t*=x.radiusRate;var f=null,c=0,h=0,y=X(n,r,f=o&&u||!o&&!u?k([n,e,s[0]])<0?s[0]:s[1]:k([n,e,s[0]])>0?s[0]:s[1],i),p=X(e,r,f,i);return u?y>p?(c=y-2*Math.PI,h=p):(c=y,h=p):y>p?(c=y,h=p):(c=y,h=p-2*Math.PI),G(r,t,c,h,f,i,a)}function X(r,t,n,e){r=M(r,-e,n);var o=Math.acos((r.x-n.x)/t);return r.y-n.y<0&&(o=-o+2*Math.PI),o+=e,o%=2*Math.PI}function Z(r,t,n,e,o){r=M(r,-o),t=M(t,-o);var u=H({x:r.x/n,y:r.y/e},{x:t.x/n,y:t.y/e},1),i=u.centers,a={x:i[0].x*n,y:i[0].y*e},x={x:i[1].x*n,y:i[1].y*e};return{centers:[a=M(a,o),x=M(x,o)],radiusRate:u.radiusRate}}function H(r,t,n){var e=(r.x+t.x)/2,o=(r.x-t.x)/2,u=(r.y+t.y)/2,i=(r.y-t.y)/2,a=Math.sqrt(o*o+i*i),x=Math.pow(n/a,2)-1;if(x<0){var s=p(r,t);return{centers:[s,s],radiusRate:a/n}}var f=Math.sqrt(x);return{centers:[{x:e+i*f,y:u-o*f},{x:e-i*f,y:u+o*f}],radiusRate:1}}function J(r,t){var n=t[0],e=t[1],o=t[2],u=t[3],i=t[4],a=t[5];return r.map(function(r){return{x:n*r.x+o*r.y+i,y:e*r.x+u*r.y+a}})}function K(r){var t=r[0],n=r[1],e=r[2],o=r[3],u=r[4],i=r[5],a=t*o-n*e;return[o/a,-n/a,-e/a,t/a,(e*i-o*u)/a,-(t*i-n*u)/a]}function Q(r,t){return[r[0]*t[0]+r[2]*t[1],r[1]*t[0]+r[3]*t[1],r[0]*t[2]+r[2]*t[3],r[1]*t[2]+r[3]*t[3],r[0]*t[4]+r[2]*t[5]+r[4],r[1]*t[4]+r[3]*t[5]+r[5]]}function $(r){return r.reduce(function(r,t){return Q(r,t)},n)}function rr(r){for(var t=r.concat(),n=r.length,e=0;e<n;e++){if(i(t[e],t[(e+1)%n])){t.splice(e,1),t=rr(t);break}}return t}function tr(r,t){var n=Math.PI/t;return Math.pow(r,2)*Math.sin(n)*Math.cos(n)*t}function nr(r,t){var n=Math.PI/t,e=r/t;return Math.sqrt(e/Math.sin(n)/Math.cos(n))}function er(r){var t=r.concat();t.sort(function(r,t){return V(t)-V(r)});var n={},e=[];return t.forEach(function(r,o){if(!n[o]){n[o]=!0;var u=[r].concat(t.filter(function(t,e){return!n[e]&&(t.filter(function(t){return q(t,r)}).length===t.length&&(n[e]=!0,!0))}));e.push(u)}}),e}function or(r,t){for(var n=[],e=-1,o=[],u=[],i=0;i<r.length;i++){for(var x=[r[i],r[(i+1)%r.length]],s=0;s<t.length;s++){var f=[t[s],t[(s+1)%t.length]];if(O(x,f)){var c=L(x,f);c&&(e=i,o.push(s),u.push(c))}}if(-1!==e)break}if(-1===e)return r;if(o.length%2!=0)return r;var h=u.map(function(t){return a(t,r[e])}),y=h.concat().sort(function(r,t){return r-t}),p=h.indexOf(y[0]),l=o[p],g=t.concat();for(s=0;s<l;s++)g.push(g.shift());for(var v=o.map(function(r){return(r-l+t.length)%t.length}),d=u.concat(),M=0;M<p;M++)v.push(v.shift()),d.push(d.shift());for(i=0;i<r.length;i++)n.push(r[(i+e+1)%r.length]);for(i=0;i<v.length/2;i++){var m=v[2*i],w=v[2*i+1];n.push(d[2*i]);for(s=m+1;s<=w;s++)n.push(g[s]);n.push(d[2*i+1])}return n}function ur(r){if(0===r.length)return{x:0,y:0,width:0,height:0};for(var t=1/0,n=1/0,e=-1/0,o=-1/0,u=0;u<r.length;u++)for(var i=r[u],a=0;a<i.length;a++){var x=i[a];t=Math.min(t,x.x),n=Math.min(n,x.y),e=Math.max(e,x.x),o=Math.max(o,x.y)}return{x:t,y:n,width:e-t,height:o-n}}function ir(r,t,n,e){void 0===n&&(n=0),void 0===e&&(e=0);for(var o=[],u=r.x,i=r.x+r.width,a=r.y,x=r.y+r.height,s=u+n;s<i;)u<s&&s<i&&o.push([{x:s,y:a},{x:s,y:x}]),s+=t;for(var f=a+e;f<x;)a<f&&f<x&&o.push([{x:u,y:f},{x:i,y:f}]),f+=t;return o}function ar(r,t,n){return{x:r.x-t/2,y:r.y-n/2,width:r.width+t,height:r.height+n}}function xr(r,t,n){return ar(r,r.width*(t-1),r.height*(n-1))}function sr(r,t,n){return r*(1-n)+t*n}function fr(r,t,n){return{x:sr(r.x,t.x,n),y:sr(r.y,t.y,n)}}function cr(r,t,n,e){if(0===r&&0===t&&0===n)return 0;if(0===r&&0===t)return-e/n;if(0===r)return-n/(2*t);var o=(3*r*n-t*t)/(3*r*r),u=(2*t*t*t-9*r*t*n+27*r*r*e)/(27*r*r*r);if(0===o&&0===u)return-t/(3*r);var i=(27*u*u+4*o*o*o)/108;if(i<=0)throw new Error("Error: Cannot resolve uniquely.");var a=Math.sqrt(i),x=-u/2+a,s=-u/2-a;return Math.sign(x)*Math.pow(Math.abs(x),1/3)+Math.sign(s)*Math.pow(Math.abs(s),1/3)-t/(3*r)}exports.IDENTITY_AFFINE=n;
},{}],"tzhc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.draw=s,exports.fitRect=o,exports.parseSvgGraphicsStr=p,exports.parseSvgGraphics=u,exports.openCommandToD=c,exports.parseOpenPath=f,exports.parsePathD=h,exports.parsePath=y,exports.parseRect=x,exports.parseEllipse=g,exports.parseCircle=m,exports.adoptTransform=F,exports.splitD=v,exports.serializeSvgString=b,exports.serializeSvg=I,exports.serializePath=d,exports.serializePointList=A,exports.createStyle=E,exports.parseTagStyle=S,exports.serializeStyle=k,exports.splitPath=T,exports.getGroupedPathList=N,exports.affineToTransform=z,exports.parseTransform=P,exports.parseTranslate=w,exports.parseTranslateX=Y,exports.parseTranslateY=_,exports.parseSkewX=B,exports.parseSkewY=C,exports.parseScale=L,exports.parseScaleX=j,exports.parseScaleY=G,exports.parseRotate=O,exports.parseMatrix=W,exports.configs=void 0;var e=r(require("./geo"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var l=arguments[t],i=0,s=l.length;i<s;i++,n++)a[n]=l[i];return a},l="http://www.w3.org/2000/svg",i={bezierSplitSize:10,ellipseSplitSize:20};function s(e,t){e.lineCap=t.style.lineCap,e.lineJoin=t.style.lineJoin,e.beginPath(),t.d.forEach(function(t,r){0===r?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}),e.closePath(),t.included&&t.included.forEach(function(t){t.forEach(function(t,r){0===r?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}),e.closePath()}),t.style.fill&&(e.fillStyle=t.style.fillStyle,e.globalAlpha=t.style.fillGlobalAlpha,e.fill()),t.style.stroke&&(e.strokeStyle=t.style.strokeStyle,e.globalAlpha=t.style.strokeGlobalAlpha,e.lineWidth=t.style.lineWidth,e.setLineDash(t.style.lineDash),e.stroke()),e.globalAlpha=1}function o(e,t,r,n,l){var i=1/0,s=-1/0,o=1/0,p=-1/0;e.forEach(function(e){e.d.forEach(function(e){i=Math.min(i,e.x),s=Math.max(s,e.x),o=Math.min(o,e.y),p=Math.max(p,e.y)})});var u=e.map(function(e){return a(a({},e),{d:e.d.map(function(e){return{x:e.x-i,y:e.y-o}})})}),c=s-i,f=p-o,h=n/c,y=l/f,x=Math.min(h,y),g=u.map(function(e){return a(a({},e),{d:e.d.map(function(e){return{x:e.x*x,y:e.y*x}})})}),m=t+(n-c*x)/2,F=r+(l-f*x)/2;return g.map(function(e){return a(a({},e),{d:e.d.map(function(e){return{x:e.x+m,y:e.y+F}}),included:(e.included||[]).map(function(e){return e.map(function(e){return{x:(e.x-i)*x+m,y:(e.y-o)*x+F}})})})})}function p(e){var t=(new DOMParser).parseFromString(e,"image/svg+xml").getElementsByTagName("svg");return t&&0!==t.length?u(t[0]):[]}function u(e){for(var t=[],r=e.getElementsByTagName("path"),a=0;a<r.length;a++){var n=r[a];t.push({d:y(n),style:S(n)})}var l=e.getElementsByTagName("rect");for(a=0;a<l.length;a++){n=l[a];t.push({d:x(n),style:S(n)})}var i=e.getElementsByTagName("ellipse");for(a=0;a<i.length;a++){n=i[a];t.push({d:g(n),style:S(n)})}var s=e.getElementsByTagName("circle");for(a=0;a<s.length;a++){n=s[a];t.push({d:m(n),style:S(n)})}return t}function c(e){var t=e.type;return"x1"in e&&(t+=" "+e.x1),"y1"in e&&(t+=" "+e.y1),"x2"in e&&(t+=" "+e.x2),"y2"in e&&(t+=" "+e.y2),"x3"in e&&(t+=" "+e.x3),"y3"in e&&(t+=" "+e.y3),"x"in e&&(t+=" "+e.x),"y"in e&&(t+=" "+e.y),t}function f(e){var t=[],r="";return e.commands.forEach(function(e){if((r+=c(e)+" ")&&"Z"===e.type.toUpperCase()){var n=h(r);t.push({d:n,style:a(a({},E()),{fill:!0,fillStyle:"black",stroke:!1})}),r=""}}),t}function h(t){var r=[],a=v(t),n={x:0,y:0},l={x:0,y:0};return a.forEach(function(t){var a=[],s=null,o=null,p=null,u=null;switch(t[0]){case"M":case"L":a.push({x:parseFloat(t[1]),y:parseFloat(t[2])});break;case"m":case"l":a.push({x:n.x+parseFloat(t[1]),y:n.y+parseFloat(t[2])});break;case"H":a.push({x:parseFloat(t[1]),y:n.y});break;case"V":a.push({x:n.x,y:parseFloat(t[1])});break;case"h":a.push({x:n.x+parseFloat(t[1]),y:n.y});break;case"v":a.push({x:n.x,y:n.y+parseFloat(t[1])});break;case"Q":s=n,o={x:parseFloat(t[1]),y:parseFloat(t[2])},p={x:parseFloat(t[3]),y:parseFloat(t[4])},(a=e.approximateBezier([s,o,p],i.bezierSplitSize)).shift();break;case"q":o={x:(s=n).x+parseFloat(t[1]),y:s.y+parseFloat(t[2])},p={x:s.x+parseFloat(t[3]),y:s.y+parseFloat(t[4])},(a=e.approximateBezier([s,o,p],i.bezierSplitSize)).shift();break;case"T":s=n,o=e.getSymmetry(s,l),p={x:parseFloat(t[1]),y:parseFloat(t[2])},(a=e.approximateBezier([s,o,p],i.bezierSplitSize)).shift();break;case"t":s=n,o=e.getSymmetry(s,l),p={x:s.x+parseFloat(t[1]),y:s.y+parseFloat(t[2])},(a=e.approximateBezier([s,o,p],i.bezierSplitSize)).shift();break;case"C":s=n,o={x:parseFloat(t[1]),y:parseFloat(t[2])},p={x:parseFloat(t[3]),y:parseFloat(t[4])},u={x:parseFloat(t[5]),y:parseFloat(t[6])},(a=e.approximateBezier([s,o,p,u],i.bezierSplitSize)).shift();break;case"c":o={x:(s=n).x+parseFloat(t[1]),y:s.y+parseFloat(t[2])},p={x:s.x+parseFloat(t[3]),y:s.y+parseFloat(t[4])},u={x:s.x+parseFloat(t[5]),y:s.y+parseFloat(t[6])},(a=e.approximateBezier([s,o,p,u],i.bezierSplitSize)).shift();break;case"S":s=n,o=e.getSymmetry(s,l),p={x:parseFloat(t[1]),y:parseFloat(t[2])},u={x:parseFloat(t[3]),y:parseFloat(t[4])},(a=e.approximateBezier([s,o,p,u],i.bezierSplitSize)).shift();break;case"s":s=n,o=e.getSymmetry(s,l),p={x:s.x+parseFloat(t[1]),y:s.y+parseFloat(t[2])},u={x:s.x+parseFloat(t[3]),y:s.y+parseFloat(t[4])},(a=e.approximateBezier([s,o,p,u],i.bezierSplitSize)).shift();break;case"A":s=n,o={x:parseFloat(t[6]),y:parseFloat(t[7])},(a=e.approximateArcWithPoint(parseFloat(t[1]),parseFloat(t[2]),s,o,!!parseInt(t[4],10),!!parseInt(t[5],10),parseFloat(t[3])/180*Math.PI,i.bezierSplitSize)).shift();break;case"a":o={x:(s=n).x+parseFloat(t[6]),y:s.y+parseFloat(t[7])},(a=e.approximateArcWithPoint(parseFloat(t[1]),parseFloat(t[2]),s,o,!!parseInt(t[4],10),!!parseInt(t[5],10),parseFloat(t[3])/180*Math.PI,i.bezierSplitSize)).shift()}a.length>0&&(n=a[a.length-1],r=r.concat(a),a.length>1&&(l=a[a.length-2]))}),r}function y(e){var t=e.getAttribute("d");return t?F(e.getAttribute("transform"),h(t)):[]}function x(e){var t=[],r=parseFloat(e.getAttribute("x")||"0"),a=parseFloat(e.getAttribute("y")||"0"),n=parseFloat(e.getAttribute("width")||"0"),l=parseFloat(e.getAttribute("height")||"0");return t.push({x:r,y:a}),t.push({x:r+n,y:a}),t.push({x:r+n,y:a+l}),t.push({x:r,y:a+l}),t=F(e.getAttribute("transform"),t)}function g(t){var r=[],a=parseFloat(t.getAttribute("cx")||"0"),n=parseFloat(t.getAttribute("cy")||"0"),l=parseFloat(t.getAttribute("rx")||"1"),s=parseFloat(t.getAttribute("ry")||"1");return r=e.approximateArc(l,s,0,2*Math.PI,{x:a,y:n},0,i.ellipseSplitSize),r=F(t.getAttribute("transform"),r)}function m(t){var r=[],a=parseFloat(t.getAttribute("cx")||"0"),n=parseFloat(t.getAttribute("cy")||"0"),l=parseFloat(t.getAttribute("r")||"1");return r=e.approximateArc(l,l,0,2*Math.PI,{x:a,y:n},0,i.ellipseSplitSize),r=F(t.getAttribute("transform"),r)}function F(t,r){if(!t)return r;var a=e.cloneVectors(r);return t.split(/\)/).forEach(function(t){var r=t.split(/\(/);if(2===r.length){var n=r[0],l=[];switch(r[1].split(/,/).forEach(function(e){return l.push(parseFloat(e))}),n.trim().toLowerCase()){case"matrix":a=e.transform(a,l);break;case"translate":a=a.map(function(e){return{x:e.x+l[0],y:e.y+l[1]}});break;case"scale":var i=l[0],s=l[0];l.length>1&&(s=l[1]),a=a.map(function(e){return{x:e.x*i,y:e.y*s}});break;case"rotate":var o={x:0,y:0};l.length>2&&(o={x:l[1],y:l[2]}),a=a.map(function(t){return e.rotate(t,l[0]*Math.PI/180,o)});break;case"skewx":a=a.map(function(e){return{x:e.x+Math.tan(l[0]*Math.PI/180)*e.y,y:e.y}});break;case"skewy":a=a.map(function(e){return{x:e.x,y:e.y+Math.tan(l[0]*Math.PI/180)*e.x}})}}}),a}function v(e){for(var t=/M|m|L|l|H|h|V|v|C|c|S|s|Q|q|T|t|A|a|Z|z/g,r=e.replace(t," $& ").replace(/([^e])(-\d(\d*\.?)\d*)/g,"$1 $2 ").split(/,| /).filter(function(e){return e}),a="M",n=[],l=0;l<r.length;){var i=[];if(r[l].match(t)?(i[0]=r[l].trim(),a=i[0],l++):i[0]=a,i[0].match(/Z|z/));else if(i[0].match(/V|v|H|h/))i=i.concat(r.slice(l,l+1)),l+=1;else if(i[0].match(/M|m|L|l|T|t/))i=i.concat(r.slice(l,l+2)),l+=2;else if(i[0].match(/Q|q|S|s/))i=i.concat(r.slice(l,l+4)),l+=4;else if(i[0].match(/C|c/))i=i.concat(r.slice(l,l+6)),l+=6;else{if(!i[0].match(/A|a/))break;i=i.concat(r.slice(l,l+7)),l+=7}n.push(i)}return n}function b(e){var t=I(e);return(new XMLSerializer).serializeToString(t)}function I(e){var t=document.createElementNS(l,"svg"),r=1,a=1;return e.forEach(function(e){t.appendChild(d(e.d,e.style)),e.d.forEach(function(e){r=Math.max(r,e.x),a=Math.max(a,e.y)})}),r*=1.1,a*=1.1,t.setAttribute("width",""+r),t.setAttribute("height",""+a),t}function d(e,t){var r=document.createElementNS(l,"path");return r.setAttribute("d",A(e)),r.setAttribute("style",k(t)),r}function A(e,t){if(0===e.length)return"";var r=e[0],a=e.slice(1);return"M "+r.x+","+r.y+a.map(function(e){return" L "+e.x+","+e.y}).join("")+(t?"":" Z")}function E(){return{fill:!1,fillGlobalAlpha:1,fillStyle:"",lineCap:"butt",lineDash:[],lineJoin:"bevel",lineWidth:1,stroke:!1,strokeGlobalAlpha:1,strokeStyle:""}}function S(e){var t=E(),r={},a=e.getAttributeNode("style");a?a.value.split(";").forEach(function(e){var t=e.split(":");2===t.length&&(r[t[0].trim()]=t[1].trim())}):e.getAttributeNames().forEach(function(t){var a=e.getAttributeNode(t);a&&(r[a.name]=a.value)});return Object.keys(r).forEach(function(e){e=e.toLowerCase();var a=r[e];if("fill"===e)"none"===a?(t.fillStyle="",t.fill=!1):(t.fillStyle=a,t.fill=!0);else if("stroke"===e)"none"===a?(t.strokeStyle="",t.stroke=!1):(t.strokeStyle=a,t.stroke=!0);else if("stroke-width"===e)t.lineWidth=parseFloat(a);else if("stroke-opacity"===e)t.strokeGlobalAlpha=parseFloat(a);else if("fill-opacity"===e)t.fillGlobalAlpha=parseFloat(a);else if("stroke-linecap"===e)t.lineCap=a;else if("stroke-linejoin"===e)t.lineJoin=a;else if("stroke-dasharray"===e)if("none"===a.toLowerCase())t.lineDash=[];else{var n=a.split(",");t.lineDash=[],n.forEach(function(e){t.lineDash.push(parseFloat(e))})}}),t}function k(e){var t="";return e.fill?t+="fill:"+e.fillStyle+";":t+="fill:none;",e.fillGlobalAlpha&&(t+="fill-opacity:"+e.fillGlobalAlpha+";"),e.stroke?t+="stroke:"+e.strokeStyle+";":t+="stroke:none;",e.lineWidth&&(t+="stroke-width:"+e.lineWidth+";"),e.strokeGlobalAlpha&&(t+="stroke-opacity:"+e.strokeGlobalAlpha+";"),e.lineCap&&(t+="stroke-linecap:"+e.lineCap+";"),e.lineJoin&&(t+="stroke-linejoin:"+e.lineJoin+";"),e.lineDash&&(e.lineDash.length>0?t+="stroke-dasharray:"+e.lineDash.join(",")+";":t+="stroke-dasharray:none;"),t}function T(t,r){var a=e.splitPolyByLine(t.d,r);if(a.length<2)return[t];var l=e.getLoopwise(t.d),i=[],s=[];t.included&&t.included.forEach(function(t){e.getLoopwise(t)===l?i.push(t):s.push(t)}),i.forEach(function(t){var l=e.splitPolyByLine(t,r);a=n(a,l.length>0?l:[t])});var o=[];s.forEach(function(t){e.splitPolyByLine(t,r).length>0?o.push(t):a.push(t)});var p=a.map(function(t){return o.reduce(function(t,r){return e.getPolygonNotPolygon(t,r)},t)});return e.getIncludedPolygonGroups(p).map(function(e){return{d:e[0],included:e.slice(1),style:t.style}})}function N(t,r){return void 0===r&&(r=E()),e.getIncludedPolygonGroups(t).map(function(e){return{d:e[0],included:e.slice(1),style:r}})}function z(e){return"matrix("+e.join(",")+")"}function P(t){var r=t.split(")").map(function(e){return e+")"}).map(function(e){return D(e)});return e.multiAffines(r)}function D(t){return/translateX/.test(t)?Y(t):/translateY/.test(t)?_(t):/translate/.test(t)?w(t):/skewX/.test(t)?B(t):/skewY/.test(t)?C(t):/scaleX/.test(t)?j(t):/scaleY/.test(t)?G(t):/scale/.test(t)?L(t):/rotate/.test(t)?O(t):/matrix/.test(t)?W(t):n(e.IDENTITY_AFFINE)}function M(e){return e.trim().replace(/,/g," ").split(/ +/).map(function(e){return parseFloat(e)})}function w(t){var r=t.match(/translate\((.+)\)/);if(!r||r.length<1)return n(e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n(e.IDENTITY_AFFINE):1===a.length?[1,0,0,1,a[0],0]:[1,0,0,1,a[0],a[1]]}function Y(t){var r=t.match(/translateX\((.+)\)/);if(!r||r.length<1)return n(e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n(e.IDENTITY_AFFINE):[1,0,0,1,a[0],0]}function _(t){var r=t.match(/translateY\((.+)\)/);if(!r||r.length<1)return n(e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n(e.IDENTITY_AFFINE):[1,0,0,1,0,a[0]]}function B(t){var r=t.match(/skewX\((.+)\)/);if(!r||r.length<1)return n(e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n(e.IDENTITY_AFFINE):[1,0,Math.tan(a[0]*Math.PI/180),1,0,0]}function C(t){var r=t.match(/skewY\((.+)\)/);if(!r||r.length<1)return n(e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n(e.IDENTITY_AFFINE):[1,Math.tan(a[0]*Math.PI/180),0,1,0,0]}function L(t){var r=t.match(/scale\((.+)\)/);if(!r||r.length<2)return n(e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n(e.IDENTITY_AFFINE):1===a.length?[a[0],0,0,a[0],0,0]:[a[0],0,0,a[1],0,0]}function j(t){var r=t.match(/scaleX\((.+)\)/);if(!r||r.length<1)return n(e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n(e.IDENTITY_AFFINE):[a[0],0,0,1,0,0]}function G(t){var r=t.match(/scaleY\((.+)\)/);if(!r||r.length<1)return n(e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n(e.IDENTITY_AFFINE):[1,0,0,a[0],0,0]}function O(t){var r=t.match(/rotate\((.+)\)/);if(!r||r.length<2)return n(e.IDENTITY_AFFINE);var a=M(r[1]);if(M.length<1)return n(e.IDENTITY_AFFINE);var l=a[0]/180*Math.PI,i=Math.cos(l),s=Math.sin(l),o=[i,s,-s,i,0,0];return a.length>2?e.multiAffine(e.multiAffine([1,0,0,1,a[1],a[2]],o),[1,0,0,1,-a[1],-a[2]]):o}function W(t){var r=t.match(/matrix\((.+)\)/);if(!r||r.length<2)return n(e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<5?n(e.IDENTITY_AFFINE):a.slice(0,6)}exports.configs=i;
},{"./geo":"WBaa"}],"ZCfc":[function(require,module,exports) {
"use strict";var e=n(require("../src/geo")),t=n(require("../src/svg"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=document.getElementById("canvas"),c=a.getContext("2d");if(c){c.clearRect(0,0,a.width,a.height);var l=[{x:0,y:0},{x:100,y:0},{x:0,y:100}],o=[{x:-100,y:-100},{x:-100,y:400},{x:200,y:-100}],f=[{x:-200,y:-200},{x:300,y:-200},{x:-200,y:600}],u=[{d:[{x:-300,y:50},{x:200,y:50},{x:200,y:100},{x:-300,y:100}],style:i(i({},t.createStyle()),{fill:!0,fillStyle:"red"})},{d:f,included:[o,l],style:i(i({},t.createStyle()),{fill:!0,fillStyle:"blue"})}],y=t.fitRect(u,0,0,a.width,a.height);y.forEach(function(e){return t.draw(c,e)})}var d=document.getElementById("input");d.onchange=function(r){var n=r.target.files;if(n&&0!==n.length){var i=new FileReader;i.readAsText(n[0]),i.onload=function(){if(c){c.clearRect(0,0,a.width,a.height);var r=t.parseSvgGraphicsStr(i.result);t.fitRect(r,0,0,a.width,a.height).forEach(function(r){e.triangleSplit(r.d).forEach(function(e){t.draw(c,{d:e,style:r.style})})})}}}};
},{"../src/geo":"WBaa","../src/svg":"tzhc"}]},{},["ZCfc"], null)
//# sourceMappingURL=main.5fe3a06f.js.map