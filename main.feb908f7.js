parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"WBaa":[function(require,module,exports) {
"use strict";function t(t){return e(t)||n(t)||i(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function e(t){if(Array.isArray(t))return u(t)}function o(t,r){return f(t)||s(t,r)||i(t,r)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,r){if(t){if("string"==typeof t)return u(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,r):void 0}}function u(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function s(t,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],e=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(e=(i=u.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(s){o=!0,a=s}finally{try{e||null==u.return||u.return()}finally{if(o)throw a}}return n}}function f(t){if(Array.isArray(t))return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=h,exports.sub=y,exports.multi=p,exports.isSame=l,exports.getDistance=v,exports.getNorm=g,exports.isZero=d,exports.getUnit=M,exports.getCross=m,exports.getInner=b,exports.cloneVectors=w,exports.getCenter=A,exports.getRectCenter=O,exports.getPolygonCenter=P,exports.getRadian=I,exports.getSymmetry=S,exports.rotate=E,exports.solveEquationOrder2=R,exports.getPedal=C,exports.getCrossLineAndBezier=T,exports.isCrossSegAndSeg=q,exports.isTouchSegAndSeg=L,exports.isParallel=z,exports.isOnLine=B,exports.isOnSeg=F,exports.isOnPolygon=U,exports.getCrossSegAndLine=V,exports.isSameSeg=_,exports.splitPolyByLine=D,exports.triangleSplit=Y,exports.isPointOnTriangle=Q,exports.convertLoopwise=W,exports.getLoopwise=X,exports.getArea=Z,exports.approximateBezier=$,exports.getPointOnBezier2=H,exports.getPointOnBezier3=J,exports.getYOnBezier3AtX=K,exports.approximateArc=tt,exports.approximateArcWithPoint=rt,exports.getEllipseCenter=et,exports.getCircleCenter=ot,exports.transform=at,exports.invertTransform=it,exports.multiAffine=ut,exports.multiAffines=st,exports.applyAffine=ft,exports.omitSamePoint=xt,exports.getRegularPolygonArea=ct,exports.getRegularPolygonRadius=ht,exports.getIncludedPolygonGroups=yt,exports.getPolygonNotPolygon=pt,exports.getOuterRectangle=lt,exports.getGrid=vt,exports.expandRecntagle=gt,exports.expandRecntagleScale=dt,exports.interpolateScaler=Mt,exports.interpolateVector=mt,exports.solveQubicFomula=wt,exports.clamp=It,exports.circleClamp=St,exports.roundTrip=Et,exports.IDENTITY_AFFINE=exports.MINVALUE=void 0;var x=1e-6;exports.MINVALUE=x;var c=[1,0,0,1,0,0];function h(t,r){return{x:t.x+r.x,y:t.y+r.y}}function y(t,r){return{x:t.x-r.x,y:t.y-r.y}}function p(t,r){return{x:t.x*r,y:t.y*r}}function l(t,r){var n=y(t,r);return Math.abs(n.x)<x&&Math.abs(n.y)<x}function v(t,r){return g(y(t,r))}function g(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function d(t){return g(t)<x}function M(t){var r=g(t);if(r<x)throw new Error("cannot get unit vector of zero vector");return p(t,1/r)}function m(t,r){return t.x*r.y-t.y*r.x}function b(t,r){return t.x*r.x+t.y*r.y}function w(t){return t.map(function(t){return Object.assign({},t)})}function A(t,r){return p(h(t,r),.5)}function O(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function P(t){return 0===t.length?{x:0,y:0}:p(t.reduce(function(t,r){return h(t,r)},{x:0,y:0}),1/t.length)}function I(t){var r=y(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0});return Math.atan2(r.y,r.x)}function S(t){return h(p(y(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},t),2),t)}function E(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},e=y(t,n);return h({x:Math.cos(r)*e.x-Math.sin(r)*e.y,y:Math.sin(r)*e.x+Math.cos(r)*e.y},n)}function R(t,r,n){if(Pt(t))return Pt(r)?[]:[-n/r];var e=r*r-4*t*n;if(e<0)return[];var o=.5/t;if(Pt(e))return[-r*o];var a=Math.sqrt(e);return[(-r+a)*o,(-r-a)*o]}function C(t,r){if(2!==r.length)throw new Error("line must be length = 2");var n=r[0],e=y(r[1],n);return h(n,p(e,b(e,y(t,n))/b(e,e)))}function j(t,r,n,e,o){var a=o.x-e.x,i=o.y-e.y,u=t.x-2*r.x+n.x,s=2*(r.x-t.x),f=t.x,x=t.y-2*r.y+n.y,c=2*(r.y-t.y),h=t.y;return R(u*i-a*x,s*i-a*c,i*f-i*e.x-a*h+a*e.y)}function T(t,r,n,e,o){return j(t,r,n,e,o).filter(function(t){return 0<=t&&t<=1}).map(function(e){return{x:(n.x-2*r.x+t.x)*e*e+2*(r.x-t.x)*e+t.x,y:(n.y-2*r.y+t.y)*e*e+2*(r.y-t.y)*e+t.y}})}function q(t,r){var n=N(t,r),e=n.ta,o=n.tb;return n.tc*n.td<0&&e*o<0}function L(t,r){var n=N(t,r),e=n.ta,o=n.tb;return n.tc*n.td<=0&&e*o<=0}function N(t,r){var n=t[0].x,e=t[0].y,o=t[1].x,a=t[1].y,i=r[0].x,u=r[0].y,s=r[1].x,f=r[1].y;return{ta:(i-s)*(e-u)+(u-f)*(i-n),tb:(i-s)*(a-u)+(u-f)*(i-o),tc:(n-o)*(u-e)+(e-a)*(n-i),td:(n-o)*(f-e)+(e-a)*(n-s)}}function z(t,r){var n=m(t,r);return Math.abs(n)<x}function B(t,r){return d(y(t,C(t,r)))}function F(t,r){if(!d(y(t,C(t,r))))return!1;var n=y(r[1],r[0]),e=y(t,r[0]);return!(b(n,e)<0)&&!(g(n)<g(e))}function k(t,r){if(Math.abs(r[0].y-r[1].y)<x)return!1;var n,e;if(r[0].y<r[1].y){var a=o(r,2);e=a[0],n=a[1]}else{var i=o(r,2);n=i[0],e=i[1]}if(t.y<e.y||n.y<=t.y)return!1;var u=V(r,[t,{x:t.x+1,y:t.y}]);return!(!u||u.x<=t.x)}function U(t,r){if(r.find(function(r){return t.x===r.x&&t.y===r.y}))return!0;for(var n=r.map(function(t,n){return[t,n<r.length-1?r[n+1]:r[0]]}).filter(function(t){return!l(t[0],t[1])}),e=0;e<n.length;e++){var o=n[e];if(F(t,o))return!0}return n.filter(function(r){return k(t,r)}).length%2==1}function V(t,r){if(z(y(t[0],t[1]),y(r[0],r[1])))return null;if(B(t[0],r))return Object.assign({},t[0]);if(B(t[1],r))return Object.assign({},t[1]);var n=((r[1].x-r[0].x)*(t[0].y-r[0].y)-(r[1].y-r[0].y)*(t[0].x-r[0].x))/2,e=n/(n+((r[1].x-r[0].x)*(r[0].y-t[1].y)-(r[1].y-r[0].y)*(r[0].x-t[1].x))/2);return 0<e&&e<1?{x:t[0].x+(t[1].x-t[0].x)*e,y:t[0].y+(t[1].y-t[0].y)*e}:null}function _(t,r){return!(!l(t[0],r[0])||!l(t[1],r[1]))||!(!l(t[0],r[1])||!l(t[1],r[0]))}function D(r,n){var e=[],o=[],a=[];if(r.forEach(function(t,i){var u=V([t,r[(i+1)%r.length]],n);e.push(t),u&&(e.push(u),o.push(i+1+o.length),a.push(u))}),o.length%2!=0)return[];var i=I(n[0],n[1]);a.sort(function(t,r){return E(t,-i).x-E(r,-i).x});for(var u=[],s=0;s<a.length-1;s+=2){for(var f=[a[s],a[s+1]],x=!1,c=0;c<r.length;c++)if(_(f,[r[c],r[(c+1)%r.length]])){x=!0;break}if(!x){u=f;break}}if(2!==u.length)return[];var h=a.concat(),y=h.indexOf(u[0]);-1!==y&&h.splice(y,1),-1!==(y=h.indexOf(u[1]))&&h.splice(y,1);var p=e.concat();h.forEach(function(t){var r=p.indexOf(t);p.splice(r,1)}),a=u;var l=(e=p).indexOf(a[0]),v=e.indexOf(a[1]);if(-1===l||-1===v)return[];(o=[])[0]=Math.min(l,v),o[1]=Math.max(l,v);for(var g=[],d=[],M=0;M<=o[0];M++)d.push({x:e[M].x,y:e[M].y});for(var m=o[1];m<e.length;m++)d.push({x:e[m].x,y:e[m].y});g.push(d),d=[];for(var b=o[0];b<=o[1];b++)d.push({x:e[b].x,y:e[b].y});g.push(d);var w=[];return g.forEach(function(r){var e=D(r,n);0===e.length?w.push(r):w.push.apply(w,t(e))}),w}function Y(t){for(var r=xt(t=W(t)),n=0,e=0,o=[];r.length>=3;){var a=r.concat();a.sort(function(t,r){return g(r)-g(t)}),n=r.indexOf(a[0]);var i=G(r,n);if(i)r.splice(n,1);else{var u=r.length;e=m(y(r[(n+1)%u],r[n]),y(r[n-1<0?u-1:n-1],r[n]));for(var s=n;!i;){if(m(y(r[((s=(s+1)%u)+1)%u],r[s]),y(r[s-1<0?u-1:s-1],r[s]))*e>0&&(i=G(r,s)),s===n)throw new Error("failed to split triangles")}r.splice(s,1)}o.push(i)}return o}function G(t,r){var n=t.length,e=t[r],o=t[(r+1)%n],a=t[r-1<0?n-1:r-1],i=[e,o,a],u=!1;return t.some(function(t){return t!==e&&t!==o&&t!==a&&Q(i,t)&&(u=!0),u}),u?null:i}function Q(t,r){var n=y(t[1],t[0]),e=y(t[2],t[1]),o=y(t[0],t[2]),a=y(r,t[0]),i=y(r,t[1]),u=y(r,t[2]),s=m(n,i),f=m(e,u),x=m(o,a);return s>=0&&f>=0&&x>=0||s<=0&&f<=0&&x<=0}function W(t){var r=t.concat();return-1===X(t)&&r.reverse(),r}function X(t){var r=Z(t,!0);return r>0?1:r<0?-1:0}function Z(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.length<3)return 0;for(var n=0,e=t.length,o=0;o<e-1;o++)n+=(t[o].x-t[o+1].x)*(t[o].y+t[o+1].y);return n+=(t[e-1].x-t[0].x)*(t[e-1].y+t[0].y),n/=2,r||(n=Math.abs(n)),n}function $(t,r){var n=[],e=1/r;if(3===t.length)for(var o=0;o<=r;o++)n.push(H(t,e*o));else{if(4!==t.length)throw new Error("connot approximate");for(var a=0;a<=r;a++)n.push(J(t,e*a))}return n}function H(t,r){var n=r,e=p(t[0],(1-n)*(1-n)),o=p(t[1],2*n*(1-n)),a=p(t[2],n*n);return{x:e.x+o.x+a.x,y:e.y+o.y+a.y}}function J(t,r){var n=r,e=p(t[0],(1-n)*(1-n)*(1-n)),o=p(t[1],3*n*(1-n)*(1-n)),a=p(t[2],3*n*n*(1-n)),i=p(t[3],n*n*n);return{x:e.x+o.x+a.x+i.x,y:e.y+o.y+a.y+i.y}}function K(t,r){var n=o(t,4),e=n[0],a=n[1],i=n[2],u=n[3],s=bt(-e.x+3*a.x-3*i.x+u.x,3*e.x-6*a.x+3*i.x,-3*e.x+3*a.x,e.x-r),f=s*s,x=f*s,c=1-s,h=c*c;return h*c*e.y+3*s*h*a.y+3*f*c*i.y+x*u.y}function tt(t,r,n,e,o,a,i){for(var u=[],s=(e-n)/i,f=0;f<=i;f++){var x=s*f+n-a;u.push(h(E({x:t*Math.cos(x),y:r*Math.sin(x)},a),o))}return u}function rt(t,r,n,e,o,a,i,u){if(t*r==0)return[n,e];var s=et(n,e,t=Math.abs(t),r=Math.abs(r),i),f=s.centers;t*=s.radiusRate,r*=s.radiusRate;var x=null,c=0,h=0,y=nt(n,t,x=o&&a||!o&&!a?X([n,e,f[0]])<0?f[0]:f[1]:X([n,e,f[0]])>0?f[0]:f[1],i),p=nt(e,t,x,i);return a?y>p?(c=y-2*Math.PI,h=p):(c=y,h=p):y>p?(c=y,h=p):(c=y,h=p-2*Math.PI),tt(t,r,c,h,x,i,u)}function nt(t,r,n,e){t=E(t,-e,n);var o=Math.acos((t.x-n.x)/r);return t.y-n.y<0&&(o=-o+2*Math.PI),o+=e,o%=2*Math.PI}function et(t,r,n,e,o){t=E(t,-o),r=E(r,-o);var a=ot({x:t.x/n,y:t.y/e},{x:r.x/n,y:r.y/e},1),i=a.centers,u={x:i[0].x*n,y:i[0].y*e},s={x:i[1].x*n,y:i[1].y*e};return{centers:[u=E(u,o),s=E(s,o)],radiusRate:a.radiusRate}}function ot(t,r,n){var e=(t.x+r.x)/2,o=(t.x-r.x)/2,a=(t.y+r.y)/2,i=(t.y-r.y)/2,u=Math.sqrt(o*o+i*i),s=Math.pow(n/u,2)-1;if(s<0){var f=A(t,r);return{centers:[f,f],radiusRate:u/n}}var x=Math.sqrt(s);return{centers:[{x:e+i*x,y:a-o*x},{x:e-i*x,y:a+o*x}],radiusRate:1}}function at(t,r){var n=r[0],e=r[1],o=r[2],a=r[3],i=r[4],u=r[5];return t.map(function(t){return{x:n*t.x+o*t.y+i,y:e*t.x+a*t.y+u}})}function it(t){var r=o(t,6),n=r[0],e=r[1],a=r[2],i=r[3],u=r[4],s=r[5],f=n*i-e*a;return[i/f,-e/f,-a/f,n/f,(a*s-i*u)/f,-(n*s-e*u)/f]}function ut(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}function st(t){return t.reduce(function(t,r){return ut(t,r)},c)}function ft(t,r){return{x:t[0]*r.x+t[2]*r.y+t[4],y:t[1]*r.x+t[3]*r.y+t[5]}}function xt(t){for(var r=t.concat(),n=t.length,e=0;e<n;e++){if(l(r[e],r[(e+1)%n])){r.splice(e,1),r=xt(r);break}}return r}function ct(t,r){var n=Math.PI/r;return Math.pow(t,2)*Math.sin(n)*Math.cos(n)*r}function ht(t,r){var n=Math.PI/r,e=t/r;return Math.sqrt(e/Math.sin(n)/Math.cos(n))}function yt(t){var r=t.concat();r.sort(function(t,r){return Z(r)-Z(t)});var n={},e=[];return r.forEach(function(t,o){if(!n[o]){n[o]=!0;var a=[t].concat(r.filter(function(r,e){return!n[e]&&(r.filter(function(r){return U(r,t)}).length===r.length&&(n[e]=!0,!0))}));e.push(a)}}),e}function pt(t,r){for(var n=[],e=-1,o=[],a=[],i=0;i<t.length;i++){for(var u=[t[i],t[(i+1)%t.length]],s=0;s<r.length;s++){var f=[r[s],r[(s+1)%r.length]];if(q(u,f)){var x=V(u,f);x&&(e=i,o.push(s),a.push(x))}}if(-1!==e)break}if(-1===e)return t;if(o.length%2!=0)return t;for(var c=a.map(function(r){return v(r,t[e])}),h=c.concat().sort(function(t,r){return t-r}),y=c.indexOf(h[0]),p=o[y],l=r.concat(),g=0;g<p;g++)l.push(l.shift());for(var d=o.map(function(t){return(t-p+r.length)%r.length}),M=a.concat(),m=0;m<y;m++)d.push(d.shift()),M.push(M.shift());for(var b=0;b<t.length;b++)n.push(t[(b+e+1)%t.length]);for(var w=0;w<d.length/2;w++){var A=d[2*w],O=d[2*w+1];n.push(M[2*w]);for(var P=A+1;P<=O;P++)n.push(l[P]);n.push(M[2*w+1])}return n}function lt(t){if(0===t.length)return{x:0,y:0,width:0,height:0};for(var r=1/0,n=1/0,e=-1/0,o=-1/0,a=0;a<t.length;a++)for(var i=t[a],u=0;u<i.length;u++){var s=i[u];r=Math.min(r,s.x),n=Math.min(n,s.y),e=Math.max(e,s.x),o=Math.max(o,s.y)}return{x:r,y:n,width:e-r,height:o-n}}function vt(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=[],a=t.x,i=t.x+t.width,u=t.y,s=t.y+t.height,f=a+n;f<i;)a<f&&f<i&&o.push([{x:f,y:u},{x:f,y:s}]),f+=r;for(var x=u+e;x<s;)u<x&&x<s&&o.push([{x:a,y:x},{x:i,y:x}]),x+=r;return o}function gt(t,r,n){return{x:t.x-r/2,y:t.y-n/2,width:t.width+r,height:t.height+n}}function dt(t,r,n){return gt(t,t.width*(r-1),t.height*(n-1))}function Mt(t,r,n){return t*(1-n)+r*n}function mt(t,r,n){return{x:Mt(t.x,r.x,n),y:Mt(t.y,r.y,n)}}function bt(t,r,n,e){var o=wt(t,r,n,e);if(0===o.length)return 0;var a=At(o,0,1);if(void 0===a)throw new Error("Error: Cannot resolve uniquely in 0 <= t <= 1.");return Math.max(Math.min(a,1),0)}function wt(t,r,n,e){if(Pt(t))return R(r,n,e);var o=(3*t*n-r*r)/(3*t*t),a=(2*r*r*r-9*t*r*n+27*t*t*e)/(27*t*t*t),i=-r/(3*t);if(Pt(o)&&Pt(a))return[i];var u=(27*a*a+4*o*o*o)/108;if(Pt(u)){var s=Math.sign(a)*Math.pow(Math.abs(a)/2,1/3);return[-2*s+i,s+i]}if(u>0){var f=Math.sqrt(u),x=-a/2+f,c=-a/2-f;return[Math.sign(x)*Math.pow(Math.abs(x),1/3)+Math.sign(c)*Math.pow(Math.abs(c),1/3)+i]}var h=-a/2,y=Math.sqrt(-u),p=Math.atan2(y,h),l=2*Math.pow(h*h+y*y,1/6);return[l*Math.cos(p/3)+i,l*Math.cos((p+2*Math.PI)/3)+i,l*Math.cos((p+4*Math.PI)/3)+i]}function At(t,r,n){return t.find(function(t){return r<=t&&t<=n||!(!Ot(t,r)&&!Ot(t,n))})}function Ot(t,r){return Math.abs(t-r)<x}function Pt(t){return Math.abs(t)<x}function It(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1/0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2?arguments[2]:void 0;return Math.max(Math.min(n,r),t)}function St(t,r,n){return t===r?t:r<n?(n-r)%(r-t)+t:n<t?r-(t-n)%(r-t):n}function Et(t,r,n){var e=r-t,o=2*e;if(0===o)return t;var a=Math.abs(n-t)%o;return a<e?a+t:o-a+t}exports.IDENTITY_AFFINE=c;
},{}],"tzhc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.draw=m,exports.fitRect=g,exports.parseSvgGraphicsStr=b,exports.parseSvgGraphics=v,exports.openCommandToD=I,exports.parseOpenPath=A,exports.parsePathD=S,exports.parsePath=k,exports.parseRect=E,exports.parseEllipse=T,exports.parseCircle=N,exports.adoptTransform=z,exports.splitD=w,exports.serializeSvgString=M,exports.serializeSvg=D,exports.serializePath=P,exports.serializePointList=j,exports.createStyle=Y,exports.parseTagStyle=O,exports.serializeStyle=_,exports.splitPath=C,exports.getGroupedPathList=L,exports.affineToTransform=G,exports.parseTransform=B,exports.parseTranslate=J,exports.parseTranslateX=q,exports.parseTranslateY=V,exports.parseSkewX=Z,exports.parseSkewY=$,exports.parseScale=H,exports.parseScaleX=Q,exports.parseScaleY=R,exports.parseRotate=U,exports.parseMatrix=K,exports.configs=void 0;var t=r(require("./geo"));function e(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return e=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e();if(r&&r.has(t))return r.get(t);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=n?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=t[i]}return a.default=t,r&&r.set(t,a),a}function a(t,e){return l(t)||n(t,e)||p(t,e)||o()}function n(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!e||r.length!==e);a=!0);}catch(s){n=!0,i=s}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r}}function i(t){return l(t)||u(t)||p(t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){if(Array.isArray(t))return t}function s(t){return f(t)||u(t)||p(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function u(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}var y="http://www.w3.org/2000/svg",x={bezierSplitSize:10,ellipseSplitSize:20};function m(t,e){t.lineCap=e.style.lineCap,t.lineJoin=e.style.lineJoin,t.beginPath(),e.d.forEach(function(e,r){0===r?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.closePath(),e.included&&e.included.forEach(function(e){e.forEach(function(e,r){0===r?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.closePath()}),e.style.fill&&(t.fillStyle=e.style.fillStyle,t.globalAlpha=e.style.fillGlobalAlpha,t.fill()),e.style.stroke&&(t.strokeStyle=e.style.strokeStyle,t.globalAlpha=e.style.strokeGlobalAlpha,t.lineWidth=e.style.lineWidth,t.setLineDash(e.style.lineDash),t.stroke()),t.globalAlpha=1}function g(t,e,r,a,n){var i=1/0,o=-1/0,l=1/0,s=-1/0;t.forEach(function(t){t.d.forEach(function(t){i=Math.min(i,t.x),o=Math.max(o,t.x),l=Math.min(l,t.y),s=Math.max(s,t.y)})});var c=t.map(function(t){return Object.assign(Object.assign({},t),{d:t.d.map(function(t){return{x:t.x-i,y:t.y-l}})})}),p=o-i,u=s-l,f=a/p,h=n/u,y=Math.min(f,h),x=c.map(function(t){return Object.assign(Object.assign({},t),{d:t.d.map(function(t){return{x:t.x*y,y:t.y*y}})})}),m=e+(a-p*y)/2,g=r+(n-u*y)/2;return x.map(function(t){return Object.assign(Object.assign({},t),{d:t.d.map(function(t){return{x:t.x+m,y:t.y+g}}),included:(t.included||[]).map(function(t){return t.map(function(t){return{x:(t.x-i)*y+m,y:(t.y-l)*y+g}})})})})}function b(t){var e=(new DOMParser).parseFromString(t,"image/svg+xml").getElementsByTagName("svg");return e&&0!==e.length?v(e[0]):[]}function F(e,r){var a,n,i=Object.assign(Object.assign({},null!==(a=null==r?void 0:r.style)&&void 0!==a?a:{}),O(e)),o=e.getAttribute("transform"),l=null!==(n=null==r?void 0:r.transform)&&void 0!==n?n:t.IDENTITY_AFFINE,c=[],p=d(e);if(p&&c.push(Object.assign(Object.assign({},p),{d:p.d.map(function(e){return t.applyAffine(l,e)})})),e.children.length>0){var u=o?t.multiAffine(l,B(o)):l;c.push.apply(c,s(Array.from(e.children).flatMap(function(t){return F(t,{style:i,transform:u})})))}return c}function d(t){switch(t.tagName.toLowerCase()){case"path":return{d:k(t),style:O(t)};case"rect":return{d:E(t),style:O(t)};case"ellipse":return{d:T(t),style:O(t)};case"circle":return{d:N(t),style:O(t)};default:return}}function v(t){return F(t)}function I(t){var e=t.type;return"x1"in t&&(e+=" ".concat(t.x1)),"y1"in t&&(e+=" ".concat(t.y1)),"x2"in t&&(e+=" ".concat(t.x2)),"y2"in t&&(e+=" ".concat(t.y2)),"x3"in t&&(e+=" ".concat(t.x3)),"y3"in t&&(e+=" ".concat(t.y3)),"x"in t&&(e+=" ".concat(t.x)),"y"in t&&(e+=" ".concat(t.y)),e}function A(t){var e=[],r="";return t.commands.forEach(function(t){if((r+=I(t)+" ")&&"Z"===t.type.toUpperCase()){var a=S(r);e.push({d:a,style:Object.assign(Object.assign({},Y()),{fill:!0,fillStyle:"black",stroke:!1})}),r=""}}),e}function S(e){var r=[],a=w(e),n={x:0,y:0},i={x:0,y:0};return a.forEach(function(e){var a=[],o=null,l=null,s=null,c=null;switch(e[0]){case"M":case"L":a.push({x:parseFloat(e[1]),y:parseFloat(e[2])});break;case"m":case"l":a.push({x:n.x+parseFloat(e[1]),y:n.y+parseFloat(e[2])});break;case"H":a.push({x:parseFloat(e[1]),y:n.y});break;case"V":a.push({x:n.x,y:parseFloat(e[1])});break;case"h":a.push({x:n.x+parseFloat(e[1]),y:n.y});break;case"v":a.push({x:n.x,y:n.y+parseFloat(e[1])});break;case"Q":o=n,l={x:parseFloat(e[1]),y:parseFloat(e[2])},s={x:parseFloat(e[3]),y:parseFloat(e[4])},(a=t.approximateBezier([o,l,s],x.bezierSplitSize)).shift();break;case"q":l={x:(o=n).x+parseFloat(e[1]),y:o.y+parseFloat(e[2])},s={x:o.x+parseFloat(e[3]),y:o.y+parseFloat(e[4])},(a=t.approximateBezier([o,l,s],x.bezierSplitSize)).shift();break;case"T":o=n,l=t.getSymmetry(o,i),s={x:parseFloat(e[1]),y:parseFloat(e[2])},(a=t.approximateBezier([o,l,s],x.bezierSplitSize)).shift();break;case"t":o=n,l=t.getSymmetry(o,i),s={x:o.x+parseFloat(e[1]),y:o.y+parseFloat(e[2])},(a=t.approximateBezier([o,l,s],x.bezierSplitSize)).shift();break;case"C":o=n,l={x:parseFloat(e[1]),y:parseFloat(e[2])},s={x:parseFloat(e[3]),y:parseFloat(e[4])},c={x:parseFloat(e[5]),y:parseFloat(e[6])},(a=t.approximateBezier([o,l,s,c],x.bezierSplitSize)).shift();break;case"c":l={x:(o=n).x+parseFloat(e[1]),y:o.y+parseFloat(e[2])},s={x:o.x+parseFloat(e[3]),y:o.y+parseFloat(e[4])},c={x:o.x+parseFloat(e[5]),y:o.y+parseFloat(e[6])},(a=t.approximateBezier([o,l,s,c],x.bezierSplitSize)).shift();break;case"S":o=n,l=t.getSymmetry(o,i),s={x:parseFloat(e[1]),y:parseFloat(e[2])},c={x:parseFloat(e[3]),y:parseFloat(e[4])},(a=t.approximateBezier([o,l,s,c],x.bezierSplitSize)).shift();break;case"s":o=n,l=t.getSymmetry(o,i),s={x:o.x+parseFloat(e[1]),y:o.y+parseFloat(e[2])},c={x:o.x+parseFloat(e[3]),y:o.y+parseFloat(e[4])},(a=t.approximateBezier([o,l,s,c],x.bezierSplitSize)).shift();break;case"A":o=n,l={x:parseFloat(e[6]),y:parseFloat(e[7])},(a=t.approximateArcWithPoint(parseFloat(e[1]),parseFloat(e[2]),o,l,!!parseInt(e[4],10),!!parseInt(e[5],10),parseFloat(e[3])/180*Math.PI,x.bezierSplitSize)).shift();break;case"a":l={x:(o=n).x+parseFloat(e[6]),y:o.y+parseFloat(e[7])},(a=t.approximateArcWithPoint(parseFloat(e[1]),parseFloat(e[2]),o,l,!!parseInt(e[4],10),!!parseInt(e[5],10),parseFloat(e[3])/180*Math.PI,x.bezierSplitSize)).shift()}a.length>0&&(n=a[a.length-1],r=r.concat(a),a.length>1&&(i=a[a.length-2]))}),r}function k(t){var e=t.getAttribute("d");return e?z(t.getAttribute("transform"),S(e)):[]}function E(t){var e=[],r=parseFloat(t.getAttribute("x")||"0"),a=parseFloat(t.getAttribute("y")||"0"),n=parseFloat(t.getAttribute("width")||"0"),i=parseFloat(t.getAttribute("height")||"0");return e.push({x:r,y:a}),e.push({x:r+n,y:a}),e.push({x:r+n,y:a+i}),e.push({x:r,y:a+i}),e=z(t.getAttribute("transform"),e)}function T(e){var r=[],a=parseFloat(e.getAttribute("cx")||"0"),n=parseFloat(e.getAttribute("cy")||"0"),i=parseFloat(e.getAttribute("rx")||"1"),o=parseFloat(e.getAttribute("ry")||"1");return r=t.approximateArc(i,o,0,2*Math.PI,{x:a,y:n},0,x.ellipseSplitSize),r=z(e.getAttribute("transform"),r)}function N(e){var r=[],a=parseFloat(e.getAttribute("cx")||"0"),n=parseFloat(e.getAttribute("cy")||"0"),i=parseFloat(e.getAttribute("r")||"1");return r=t.approximateArc(i,i,0,2*Math.PI,{x:a,y:n},0,x.ellipseSplitSize),r=z(e.getAttribute("transform"),r)}function z(e,r){if(!e)return r;var a=t.cloneVectors(r);return e.split(/\)/).forEach(function(e){var r=e.split(/\(/);if(2===r.length){var n=r[0].trim().toLowerCase(),i=X(r[1]);switch(n){case"matrix":a=t.transform(a,i);break;case"translate":a=a.map(function(t){return{x:t.x+i[0],y:t.y+i[1]}});break;case"scale":var o=i[0],l=i[0];i.length>1&&(l=i[1]),a=a.map(function(t){return{x:t.x*o,y:t.y*l}});break;case"rotate":var s={x:0,y:0};i.length>2&&(s={x:i[1],y:i[2]}),a=a.map(function(e){return t.rotate(e,i[0]*Math.PI/180,s)});break;case"skewx":a=a.map(function(t){return{x:t.x+Math.tan(i[0]*Math.PI/180)*t.y,y:t.y}});break;case"skewy":a=a.map(function(t){return{x:t.x,y:t.y+Math.tan(i[0]*Math.PI/180)*t.x}})}}}),a}function w(t){for(var e=/M|m|L|l|H|h|V|v|C|c|S|s|Q|q|T|t|A|a|Z|z/g,r=t.replace(e," $& ").replace(/([^e])(-\d(\d*\.?)\d*)/g,"$1 $2 ").split(/,| /).filter(function(t){return t}),a="M",n=[],i=0;i<r.length;){var o=[];if(r[i].match(e)?(o[0]=r[i].trim(),a=o[0],i++):o[0]=a,o[0].match(/Z|z/));else if(o[0].match(/V|v|H|h/))o=o.concat(r.slice(i,i+1)),i+=1;else if(o[0].match(/M|m|L|l|T|t/))o=o.concat(r.slice(i,i+2)),i+=2;else if(o[0].match(/Q|q|S|s/))o=o.concat(r.slice(i,i+4)),i+=4;else if(o[0].match(/C|c/))o=o.concat(r.slice(i,i+6)),i+=6;else{if(!o[0].match(/A|a/))break;o=o.concat(r.slice(i,i+7)),i+=7}n.push(o)}return n}function M(t){var e=D(t);return(new XMLSerializer).serializeToString(e)}function D(t){var e=document.createElementNS(y,"svg"),r=1,a=1;return t.forEach(function(t){e.appendChild(P(t.d,t.style)),t.d.forEach(function(t){r=Math.max(r,t.x),a=Math.max(a,t.y)})}),r*=1.1,a*=1.1,e.setAttribute("width","".concat(r)),e.setAttribute("height","".concat(a)),e}function P(t,e){var r=document.createElementNS(y,"path");return r.setAttribute("d",j(t)),r.setAttribute("style",_(e)),r}function j(t,e){if(0===t.length)return"";var r=i(t),a=r[0],n=r.slice(1);return"M ".concat(a.x,",").concat(a.y)+n.map(function(t){return" L ".concat(t.x,",").concat(t.y)}).join("")+(e?"":" Z")}function Y(){return{fill:!1,fillGlobalAlpha:1,fillStyle:"",lineCap:"butt",lineDash:[],lineJoin:"bevel",lineWidth:1,stroke:!1,strokeGlobalAlpha:1,strokeStyle:""}}function O(t){var e={};t.getAttributeNames().forEach(function(r){var a=t.getAttributeNode(r);a&&(e[a.name]=a.value)});var r=t.getAttributeNode("style");r&&r.value.split(";").forEach(function(t){var r=t.split(":");2===r.length&&(e[r[0].trim()]=r[1].trim())});return Object.entries(e).reduce(function(t,e){var r=a(e,2),n=r[0],i=r[1];switch(n.toLowerCase()){case"fill":"none"===i?(t.fillStyle="",t.fill=!1):(t.fillStyle=i,t.fill=!0);break;case"stroke":"none"===i?(t.strokeStyle="",t.stroke=!1):(t.strokeStyle=i,t.stroke=!0);break;case"stroke-width":t.lineWidth=parseFloat(i);break;case"stroke-opacity":t.strokeGlobalAlpha=parseFloat(i);break;case"fill-opacity":t.fillGlobalAlpha=parseFloat(i);break;case"stroke-linecap":t.lineCap=i;break;case"stroke-linejoin":t.lineJoin=i;break;case"stroke-dasharray":"none"===i.toLowerCase()?t.lineDash=[]:t.lineDash=X(i)}return t},Y())}function _(t){var e="";return t.fill?e+="fill:"+t.fillStyle+";":e+="fill:none;",t.fillGlobalAlpha&&(e+="fill-opacity:"+t.fillGlobalAlpha+";"),t.stroke?e+="stroke:"+t.strokeStyle+";":e+="stroke:none;",t.lineWidth&&(e+="stroke-width:"+t.lineWidth+";"),t.strokeGlobalAlpha&&(e+="stroke-opacity:"+t.strokeGlobalAlpha+";"),t.lineCap&&(e+="stroke-linecap:"+t.lineCap+";"),t.lineJoin&&(e+="stroke-linejoin:"+t.lineJoin+";"),t.lineDash&&(t.lineDash.length>0?e+="stroke-dasharray:"+t.lineDash.join(",")+";":e+="stroke-dasharray:none;"),e}function C(e,r){var a=t.splitPolyByLine(e.d,r);if(a.length<2)return[e];var n=t.getLoopwise(e.d),o=[],l=[];e.included&&e.included.forEach(function(e){t.getLoopwise(e)===n?o.push(e):l.push(e)}),o.forEach(function(e){var n=t.splitPolyByLine(e,r);a=[].concat(s(a),s(n.length>0?n:[e]))});var c=[];l.forEach(function(e){t.splitPolyByLine(e,r).length>0?c.push(e):a.push(e)});var p=a.map(function(e){return c.reduce(function(e,r){return t.getPolygonNotPolygon(e,r)},e)});return t.getIncludedPolygonGroups(p).map(function(t){var r=i(t);return{d:r[0],included:r.slice(1),style:e.style}})}function L(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y();return t.getIncludedPolygonGroups(e).map(function(t){var e=i(t);return{d:e[0],included:e.slice(1),style:r}})}function G(t){return"matrix(".concat(t.join(","),")")}function B(e){var r=e.split(")").map(function(t){return"".concat(t,")")}).map(function(t){return W(t)});return t.multiAffines(r)}function W(e){return/translateX/.test(e)?q(e):/translateY/.test(e)?V(e):/translate/.test(e)?J(e):/skewX/.test(e)?Z(e):/skewY/.test(e)?$(e):/scaleX/.test(e)?Q(e):/scaleY/.test(e)?R(e):/scale/.test(e)?H(e):/rotate/.test(e)?U(e):/matrix/.test(e)?K(e):s(t.IDENTITY_AFFINE)}function X(t){return t.trim().replace(/,/g," ").split(/ +/).map(function(t){return parseFloat(t)})}function J(e){var r=e.match(/translate\((.+)\)/);if(!r||r.length<1)return s(t.IDENTITY_AFFINE);var a=X(r[1]);return a.length<1?s(t.IDENTITY_AFFINE):1===a.length?[1,0,0,1,a[0],0]:[1,0,0,1,a[0],a[1]]}function q(e){var r=e.match(/translateX\((.+)\)/);if(!r||r.length<1)return s(t.IDENTITY_AFFINE);var a=X(r[1]);return a.length<1?s(t.IDENTITY_AFFINE):[1,0,0,1,a[0],0]}function V(e){var r=e.match(/translateY\((.+)\)/);if(!r||r.length<1)return s(t.IDENTITY_AFFINE);var a=X(r[1]);return a.length<1?s(t.IDENTITY_AFFINE):[1,0,0,1,0,a[0]]}function Z(e){var r=e.match(/skewX\((.+)\)/);if(!r||r.length<1)return s(t.IDENTITY_AFFINE);var a=X(r[1]);return a.length<1?s(t.IDENTITY_AFFINE):[1,0,Math.tan(a[0]*Math.PI/180),1,0,0]}function $(e){var r=e.match(/skewY\((.+)\)/);if(!r||r.length<1)return s(t.IDENTITY_AFFINE);var a=X(r[1]);return a.length<1?s(t.IDENTITY_AFFINE):[1,Math.tan(a[0]*Math.PI/180),0,1,0,0]}function H(e){var r=e.match(/scale\((.+)\)/);if(!r||r.length<2)return s(t.IDENTITY_AFFINE);var a=X(r[1]);return a.length<1?s(t.IDENTITY_AFFINE):1===a.length?[a[0],0,0,a[0],0,0]:[a[0],0,0,a[1],0,0]}function Q(e){var r=e.match(/scaleX\((.+)\)/);if(!r||r.length<1)return s(t.IDENTITY_AFFINE);var a=X(r[1]);return a.length<1?s(t.IDENTITY_AFFINE):[a[0],0,0,1,0,0]}function R(e){var r=e.match(/scaleY\((.+)\)/);if(!r||r.length<1)return s(t.IDENTITY_AFFINE);var a=X(r[1]);return a.length<1?s(t.IDENTITY_AFFINE):[1,0,0,a[0],0,0]}function U(e){var r=e.match(/rotate\((.+)\)/);if(!r||r.length<2)return s(t.IDENTITY_AFFINE);var a=X(r[1]);if(X.length<1)return s(t.IDENTITY_AFFINE);var n=a[0]/180*Math.PI,i=Math.cos(n),o=Math.sin(n),l=[i,o,-o,i,0,0];return a.length>2?t.multiAffine(t.multiAffine([1,0,0,1,a[1],a[2]],l),[1,0,0,1,-a[1],-a[2]]):l}function K(e){var r=e.match(/matrix\((.+)\)/);if(!r||r.length<2)return s(t.IDENTITY_AFFINE);var a=X(r[1]);return a.length<5?s(t.IDENTITY_AFFINE):a.slice(0,6)}exports.configs=x;
},{"./geo":"WBaa"}],"ZCfc":[function(require,module,exports) {
"use strict";var e=n(require("../src/geo")),t=n(require("../src/svg"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var i=document.getElementById("canvas"),a=i.getContext("2d");if(a){a.clearRect(0,0,i.width,i.height);var c=[{x:0,y:0},{x:100,y:0},{x:0,y:100}],l=[{x:-100,y:-100},{x:-100,y:400},{x:200,y:-100}],f=[{x:-200,y:-200},{x:300,y:-200},{x:-200,y:600}],o=[{d:[{x:-300,y:50},{x:200,y:50},{x:200,y:100},{x:-300,y:100}],style:Object.assign(Object.assign({},t.createStyle()),{fill:!0,fillStyle:"red"})},{d:f,included:[l,c],style:Object.assign(Object.assign({},t.createStyle()),{fill:!0,fillStyle:"blue"})}],u=t.fitRect(o,0,0,i.width,i.height);u.forEach(function(e){return t.draw(a,e)})}var y=document.getElementById("input");y.onchange=function(r){var n=r.target.files;if(n&&0!==n.length){var c=new FileReader;c.readAsText(n[0]),c.onload=function(){if(a){a.clearRect(0,0,i.width,i.height);var r=t.parseSvgGraphicsStr(c.result);t.fitRect(r,0,0,i.width,i.height).forEach(function(r){e.triangleSplit(r.d).forEach(function(e){t.draw(a,{d:e,style:r.style})})})}}}};
},{"../src/geo":"WBaa","../src/svg":"tzhc"}]},{},["ZCfc"], null)
//# sourceMappingURL=main.feb908f7.js.map