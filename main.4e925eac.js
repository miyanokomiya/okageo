parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"WBaa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=e,exports.sub=o,exports.multi=u,exports.isSame=i,exports.getDistance=a,exports.getNorm=x,exports.isZero=s,exports.getUnit=f,exports.getCross=c,exports.getInner=h,exports.cloneVectors=y,exports.getCenter=p,exports.getRectCenter=l,exports.getPolygonCenter=v,exports.getRadian=g,exports.getSymmetry=M,exports.rotate=d,exports.solveEquationOrder2=m,exports.getPedal=w,exports.getCrossLineAndBezier=P,exports.isCrossSegAndSeg=O,exports.isTouchSegAndSeg=E,exports.isParallel=A,exports.isOnLine=R,exports.isOnSeg=S,exports.isOnPolygon=q,exports.getCrossSegAndLine=L,exports.isSameSeg=N,exports.splitPolyByLine=T,exports.triangleSplit=z,exports.isPointOnTriangle=F,exports.convertLoopwise=k,exports.getLoopwise=V,exports.getArea=_,exports.approximateBezier=j,exports.getPointOnBezier2=D,exports.getPointOnBezier3=U,exports.getYOnBezier3AtX=Y,exports.approximateArc=G,exports.approximateArcWithPoint=Q,exports.getEllipseCenter=X,exports.getCircleCenter=Z,exports.transform=H,exports.invertTransform=J,exports.multiAffine=K,exports.multiAffines=$,exports.omitSamePoint=tt,exports.getRegularPolygonArea=rt,exports.getRegularPolygonRadius=nt,exports.getIncludedPolygonGroups=et,exports.getPolygonNotPolygon=ot,exports.getOuterRectangle=ut,exports.getGrid=it,exports.expandRecntagle=at,exports.expandRecntagleScale=xt,exports.interpolateScaler=st,exports.interpolateVector=ft,exports.solveQubicFomula=ht,exports.IDENTITY_AFFINE=exports.MINVALUE=void 0;var t=function(){return(t=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)},r=1e-6;exports.MINVALUE=r;var n=[1,0,0,1,0,0];function e(t,r){return{x:t.x+r.x,y:t.y+r.y}}function o(t,r){return{x:t.x-r.x,y:t.y-r.y}}function u(t,r){return{x:t.x*r,y:t.y*r}}function i(t,n){var e=o(t,n);return Math.abs(e.x)<r&&Math.abs(e.y)<r}function a(t,r){var n=o(t,r);return Math.sqrt(n.x*n.x+n.y*n.y)}function x(t){return a(t,{x:0,y:0})}function s(t){return x(t)<r}function f(t){var n=x(t);if(n<r)throw new Error("cannot get unit vector of zero vector");return u(t,1/n)}function c(t,r){return t.x*r.y-t.y*r.x}function h(t,r){return t.x*r.x+t.y*r.y}function y(r){return r.map(function(r){return t({},r)})}function p(t,r){return u(e(t,r),.5)}function l(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function v(t){return 0===t.length?{x:0,y:0}:u(t.reduce(function(t,r){return e(t,r)},{x:0,y:0}),1/t.length)}function g(t,r){void 0===r&&(r={x:0,y:0});var n=o(t,r);return Math.atan2(n.y,n.x)}function M(t,r){return void 0===r&&(r={x:0,y:0}),e(u(o(r,t),2),t)}function d(t,r,n){void 0===n&&(n={x:0,y:0});var u=o(t,n);return e({x:Math.cos(r)*u.x-Math.sin(r)*u.y,y:Math.sin(r)*u.x+Math.cos(r)*u.y},n)}function m(t,r,n){if(lt(t))return lt(r)?[]:[-n/r];var e=r*r-4*t*n;if(e<0)return[];var o=.5/t;if(lt(e))return[-r*o];var u=Math.sqrt(e);return[(-r+u)*o,(-r-u)*o]}function w(t,r){if(2!==r.length)throw new Error("line must be length = 2");var n=r[0],i=o(r[1],n);return e(n,u(i,h(i,o(t,n))/h(i,i)))}function b(t,r,n,e,o){var u=o.x-e.x,i=o.y-e.y,a=t.x-2*r.x+n.x,x=2*(r.x-t.x),s=t.x,f=t.y-2*r.y+n.y,c=2*(r.y-t.y),h=t.y;return m(a*i-u*f,x*i-u*c,i*s-i*e.x-u*h+u*e.y)}function P(t,r,n,e,o){return b(t,r,n,e,o).filter(function(t){return 0<=t&&t<=1}).map(function(e){return{x:(n.x-2*r.x+t.x)*e*e+2*(r.x-t.x)*e+t.x,y:(n.y-2*r.y+t.y)*e*e+2*(r.y-t.y)*e+t.y}})}function O(t,r){var n=I(t,r),e=n.ta,o=n.tb;return n.tc*n.td<0&&e*o<0}function E(t,r){var n=I(t,r),e=n.ta,o=n.tb;return n.tc*n.td<=0&&e*o<=0}function I(t,r){var n=t[0].x,e=t[0].y,o=t[1].x,u=t[1].y,i=r[0].x,a=r[0].y,x=r[1].x,s=r[1].y;return{ta:(i-x)*(e-a)+(a-s)*(i-n),tb:(i-x)*(u-a)+(a-s)*(i-o),tc:(n-o)*(a-e)+(e-u)*(n-i),td:(n-o)*(s-e)+(e-u)*(n-x)}}function A(t,n){var e=c(t,n);return Math.abs(e)<r}function R(t,r){return s(o(t,w(t,r)))}function S(t,r){if(!s(o(t,w(t,r))))return!1;var n=o(r[1],r[0]),e=o(t,r[0]);return!(h(n,e)<0)&&!(x(n)<x(e))}function C(t,n){if(Math.abs(n[0].y-n[1].y)<r)return!1;var e,o;if(n[0].y<n[1].y?(o=n[0],e=n[1]):(e=n[0],o=n[1]),t.y<o.y||e.y<=t.y)return!1;var u=L(n,[t,{x:t.x+1,y:t.y}]);return!(!u||u.x<=t.x)}function q(t,r){if(r.find(function(r){return t.x===r.x&&t.y===r.y}))return!0;for(var n=r.map(function(t,n){return[t,n<r.length-1?r[n+1]:r[0]]}).filter(function(t){return!i(t[0],t[1])}),e=0;e<n.length;e++){var o=n[e];if(S(t,o))return!0}return n.filter(function(r){return C(t,r)}).length%2==1}function L(r,n){if(A(o(r[0],r[1]),o(n[0],n[1])))return null;if(R(r[0],n))return t({},r[0]);if(R(r[1],n))return t({},r[1]);var e=((n[1].x-n[0].x)*(r[0].y-n[0].y)-(n[1].y-n[0].y)*(r[0].x-n[0].x))/2,u=e/(e+((n[1].x-n[0].x)*(n[0].y-r[1].y)-(n[1].y-n[0].y)*(n[0].x-r[1].x))/2);return 0<u&&u<1?{x:r[0].x+(r[1].x-r[0].x)*u,y:r[0].y+(r[1].y-r[0].y)*u}:null}function N(t,r){return!(!i(t[0],r[0])||!i(t[1],r[1]))||!(!i(t[0],r[1])||!i(t[1],r[0]))}function T(t,r){var n=[],e=[],o=[];if(t.forEach(function(u,i){var a=L([u,t[(i+1)%t.length]],r);n.push(u),a&&(n.push(a),e.push(i+1+e.length),o.push(a))}),e.length%2!=0)return[];var u=g(r[0],r[1]);o.sort(function(t,r){return d(t,-u).x-d(r,-u).x});for(var i=[],a=0;a<o.length-1;a+=2){for(var x=[o[a],o[a+1]],s=!1,f=0;f<t.length;f++)if(N(x,[t[f],t[(f+1)%t.length]])){s=!0;break}if(!s){i=x;break}}if(2!==i.length)return[];var c=o.concat(),h=c.indexOf(i[0]);-1!==h&&c.splice(h,1),-1!==(h=c.indexOf(i[1]))&&c.splice(h,1);var y=n.concat();c.forEach(function(t){var r=y.indexOf(t);y.splice(r,1)}),o=i;var p=(n=y).indexOf(o[0]),l=n.indexOf(o[1]);if(-1===p||-1===l)return[];(e=[])[0]=Math.min(p,l),e[1]=Math.max(p,l);for(var v=[],M=[],m=0;m<=e[0];m++)M.push({x:n[m].x,y:n[m].y});for(m=e[1];m<n.length;m++)M.push({x:n[m].x,y:n[m].y});v.push(M),M=[];for(m=e[0];m<=e[1];m++)M.push({x:n[m].x,y:n[m].y});v.push(M);var w=[];return v.forEach(function(t){var n=T(t,r);0===n.length?w.push(t):w.push.apply(w,n)}),w}function z(t){for(var r=tt(t=k(t)),n=0,e=0,u=[];r.length>=3;){var i=r.concat();i.sort(function(t,r){return x(r)-x(t)}),n=r.indexOf(i[0]);var a=B(r,n);if(a)r.splice(n,1);else{var s=r.length;e=c(o(r[(n+1)%s],r[n]),o(r[n-1<0?s-1:n-1],r[n]));for(var f=n;!a;){if(c(o(r[((f=(f+1)%s)+1)%s],r[f]),o(r[f-1<0?s-1:f-1],r[f]))*e>0&&(a=B(r,f)),f===n)throw new Error("failed to split triangles")}r.splice(f,1)}u.push(a)}return u}function B(t,r){var n=t.length,e=t[r],o=t[(r+1)%n],u=t[r-1<0?n-1:r-1],i=[e,o,u],a=!1;return t.some(function(t){return t!==e&&t!==o&&t!==u&&F(i,t)&&(a=!0),a}),a?null:i}function F(t,r){var n=o(t[1],t[0]),e=o(t[2],t[1]),u=o(t[0],t[2]),i=o(r,t[0]),a=o(r,t[1]),x=o(r,t[2]),s=c(n,a),f=c(e,x),h=c(u,i);return s>=0&&f>=0&&h>=0||s<=0&&f<=0&&h<=0}function k(t){var r=t.concat();return-1===V(t)&&r.reverse(),r}function V(t){var r=_(t,!0);return r>0?1:r<0?-1:0}function _(t,r){if(void 0===r&&(r=!1),t.length<3)return 0;for(var n=0,e=t.length,o=0;o<e-1;o++)n+=(t[o].x-t[o+1].x)*(t[o].y+t[o+1].y);return n+=(t[e-1].x-t[0].x)*(t[e-1].y+t[0].y),n/=2,r||(n=Math.abs(n)),n}function j(t,r){var n=[],e=1/r;if(3===t.length)for(var o=0;o<=r;o++)n.push(D(t,e*o));else{if(4!==t.length)throw new Error("connot approximate");for(o=0;o<=r;o++)n.push(U(t,e*o))}return n}function D(t,r){var n=r,e=u(t[0],(1-n)*(1-n)),o=u(t[1],2*n*(1-n)),i=u(t[2],n*n);return{x:e.x+o.x+i.x,y:e.y+o.y+i.y}}function U(t,r){var n=r,e=u(t[0],(1-n)*(1-n)*(1-n)),o=u(t[1],3*n*(1-n)*(1-n)),i=u(t[2],3*n*n*(1-n)),a=u(t[3],n*n*n);return{x:e.x+o.x+i.x+a.x,y:e.y+o.y+i.y+a.y}}function Y(t,r){var n=t[0],e=t[1],o=t[2],u=t[3],i=ct(-n.x+3*e.x-3*o.x+u.x,3*n.x-6*e.x+3*o.x,-3*n.x+3*e.x,n.x-r),a=i*i,x=a*i,s=1-i,f=s*s;return f*s*n.y+3*i*f*e.y+3*a*s*o.y+x*u.y}function G(t,r,n,o,u,i,a){for(var x=[],s=(o-n)/a,f=0;f<=a;f++){var c=s*f+n-i;x.push(e(d({x:t*Math.cos(c),y:r*Math.sin(c)},i),u))}return x}function Q(t,r,n,e,o,u,i,a){if(t*r==0)return[n,e];var x=X(n,e,t=Math.abs(t),r=Math.abs(r),i),s=x.centers;t*=x.radiusRate,r*=x.radiusRate;var f=null,c=0,h=0,y=W(n,t,f=o&&u||!o&&!u?V([n,e,s[0]])<0?s[0]:s[1]:V([n,e,s[0]])>0?s[0]:s[1],i),p=W(e,t,f,i);return u?y>p?(c=y-2*Math.PI,h=p):(c=y,h=p):y>p?(c=y,h=p):(c=y,h=p-2*Math.PI),G(t,r,c,h,f,i,a)}function W(t,r,n,e){t=d(t,-e,n);var o=Math.acos((t.x-n.x)/r);return t.y-n.y<0&&(o=-o+2*Math.PI),o+=e,o%=2*Math.PI}function X(t,r,n,e,o){t=d(t,-o),r=d(r,-o);var u=Z({x:t.x/n,y:t.y/e},{x:r.x/n,y:r.y/e},1),i=u.centers,a={x:i[0].x*n,y:i[0].y*e},x={x:i[1].x*n,y:i[1].y*e};return{centers:[a=d(a,o),x=d(x,o)],radiusRate:u.radiusRate}}function Z(t,r,n){var e=(t.x+r.x)/2,o=(t.x-r.x)/2,u=(t.y+r.y)/2,i=(t.y-r.y)/2,a=Math.sqrt(o*o+i*i),x=Math.pow(n/a,2)-1;if(x<0){var s=p(t,r);return{centers:[s,s],radiusRate:a/n}}var f=Math.sqrt(x);return{centers:[{x:e+i*f,y:u-o*f},{x:e-i*f,y:u+o*f}],radiusRate:1}}function H(t,r){var n=r[0],e=r[1],o=r[2],u=r[3],i=r[4],a=r[5];return t.map(function(t){return{x:n*t.x+o*t.y+i,y:e*t.x+u*t.y+a}})}function J(t){var r=t[0],n=t[1],e=t[2],o=t[3],u=t[4],i=t[5],a=r*o-n*e;return[o/a,-n/a,-e/a,r/a,(e*i-o*u)/a,-(r*i-n*u)/a]}function K(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}function $(t){return t.reduce(function(t,r){return K(t,r)},n)}function tt(t){for(var r=t.concat(),n=t.length,e=0;e<n;e++){if(i(r[e],r[(e+1)%n])){r.splice(e,1),r=tt(r);break}}return r}function rt(t,r){var n=Math.PI/r;return Math.pow(t,2)*Math.sin(n)*Math.cos(n)*r}function nt(t,r){var n=Math.PI/r,e=t/r;return Math.sqrt(e/Math.sin(n)/Math.cos(n))}function et(t){var r=t.concat();r.sort(function(t,r){return _(r)-_(t)});var n={},e=[];return r.forEach(function(t,o){if(!n[o]){n[o]=!0;var u=[t].concat(r.filter(function(r,e){return!n[e]&&(r.filter(function(r){return q(r,t)}).length===r.length&&(n[e]=!0,!0))}));e.push(u)}}),e}function ot(t,r){for(var n=[],e=-1,o=[],u=[],i=0;i<t.length;i++){for(var x=[t[i],t[(i+1)%t.length]],s=0;s<r.length;s++){var f=[r[s],r[(s+1)%r.length]];if(O(x,f)){var c=L(x,f);c&&(e=i,o.push(s),u.push(c))}}if(-1!==e)break}if(-1===e)return t;if(o.length%2!=0)return t;var h=u.map(function(r){return a(r,t[e])}),y=h.concat().sort(function(t,r){return t-r}),p=h.indexOf(y[0]),l=o[p],v=r.concat();for(s=0;s<l;s++)v.push(v.shift());for(var g=o.map(function(t){return(t-l+r.length)%r.length}),M=u.concat(),d=0;d<p;d++)g.push(g.shift()),M.push(M.shift());for(i=0;i<t.length;i++)n.push(t[(i+e+1)%t.length]);for(i=0;i<g.length/2;i++){var m=g[2*i],w=g[2*i+1];n.push(M[2*i]);for(s=m+1;s<=w;s++)n.push(v[s]);n.push(M[2*i+1])}return n}function ut(t){if(0===t.length)return{x:0,y:0,width:0,height:0};for(var r=1/0,n=1/0,e=-1/0,o=-1/0,u=0;u<t.length;u++)for(var i=t[u],a=0;a<i.length;a++){var x=i[a];r=Math.min(r,x.x),n=Math.min(n,x.y),e=Math.max(e,x.x),o=Math.max(o,x.y)}return{x:r,y:n,width:e-r,height:o-n}}function it(t,r,n,e){void 0===n&&(n=0),void 0===e&&(e=0);for(var o=[],u=t.x,i=t.x+t.width,a=t.y,x=t.y+t.height,s=u+n;s<i;)u<s&&s<i&&o.push([{x:s,y:a},{x:s,y:x}]),s+=r;for(var f=a+e;f<x;)a<f&&f<x&&o.push([{x:u,y:f},{x:i,y:f}]),f+=r;return o}function at(t,r,n){return{x:t.x-r/2,y:t.y-n/2,width:t.width+r,height:t.height+n}}function xt(t,r,n){return at(t,t.width*(r-1),t.height*(n-1))}function st(t,r,n){return t*(1-n)+r*n}function ft(t,r,n){return{x:st(t.x,r.x,n),y:st(t.y,r.y,n)}}function ct(t,r,n,e){var o=ht(t,r,n,e);if(0===o.length)return 0;var u=yt(o,0,1);if(void 0===u)throw new Error("Error: Cannot resolve uniquely in 0 <= t <= 1.");return Math.max(Math.min(u,1),0)}function ht(t,r,n,e){if(lt(t))return m(r,n,e);var o=(3*t*n-r*r)/(3*t*t),u=(2*r*r*r-9*t*r*n+27*t*t*e)/(27*t*t*t),i=-r/(3*t);if(lt(o)&&lt(u))return[i];var a=(27*u*u+4*o*o*o)/108;if(lt(a)){var x=Math.sign(u)*Math.pow(Math.abs(u)/2,1/3);return[-2*x+i,x+i]}if(a>0){var s=Math.sqrt(a),f=-u/2+s,c=-u/2-s;return[(h=Math.sign(f)*Math.pow(Math.abs(f),1/3))+(y=Math.sign(c)*Math.pow(Math.abs(c),1/3))+i]}var h=-u/2,y=Math.sqrt(-a),p=Math.atan2(y,h),l=2*Math.pow(h*h+y*y,1/6);return[l*Math.cos(p/3)+i,l*Math.cos((p+2*Math.PI)/3)+i,l*Math.cos((p+4*Math.PI)/3)+i]}function yt(t,r,n){return t.find(function(t){return r<=t&&t<=n||!(!pt(t,r)&&!pt(t,n))})}function pt(t,n){return Math.abs(t-n)<r}function lt(t){return Math.abs(t)<r}exports.IDENTITY_AFFINE=n;
},{}],"tzhc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.draw=s,exports.fitRect=o,exports.parseSvgGraphicsStr=p,exports.parseSvgGraphics=u,exports.openCommandToD=c,exports.parseOpenPath=f,exports.parsePathD=h,exports.parsePath=y,exports.parseRect=x,exports.parseEllipse=g,exports.parseCircle=m,exports.adoptTransform=F,exports.splitD=v,exports.serializeSvgString=b,exports.serializeSvg=I,exports.serializePath=d,exports.serializePointList=E,exports.createStyle=A,exports.parseTagStyle=S,exports.serializeStyle=k,exports.splitPath=T,exports.getGroupedPathList=N,exports.affineToTransform=z,exports.parseTransform=P,exports.parseTranslate=w,exports.parseTranslateX=Y,exports.parseTranslateY=_,exports.parseSkewX=B,exports.parseSkewY=C,exports.parseScale=L,exports.parseScaleX=j,exports.parseScaleY=G,exports.parseRotate=O,exports.parseMatrix=W,exports.configs=void 0;var e=r(require("./geo"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=function(e,t){for(var r=0,a=t.length,n=e.length;r<a;r++,n++)e[n]=t[r];return e},l="http://www.w3.org/2000/svg",i={bezierSplitSize:10,ellipseSplitSize:20};function s(e,t){e.lineCap=t.style.lineCap,e.lineJoin=t.style.lineJoin,e.beginPath(),t.d.forEach(function(t,r){0===r?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}),e.closePath(),t.included&&t.included.forEach(function(t){t.forEach(function(t,r){0===r?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}),e.closePath()}),t.style.fill&&(e.fillStyle=t.style.fillStyle,e.globalAlpha=t.style.fillGlobalAlpha,e.fill()),t.style.stroke&&(e.strokeStyle=t.style.strokeStyle,e.globalAlpha=t.style.strokeGlobalAlpha,e.lineWidth=t.style.lineWidth,e.setLineDash(t.style.lineDash),e.stroke()),e.globalAlpha=1}function o(e,t,r,n,l){var i=1/0,s=-1/0,o=1/0,p=-1/0;e.forEach(function(e){e.d.forEach(function(e){i=Math.min(i,e.x),s=Math.max(s,e.x),o=Math.min(o,e.y),p=Math.max(p,e.y)})});var u=e.map(function(e){return a(a({},e),{d:e.d.map(function(e){return{x:e.x-i,y:e.y-o}})})}),c=s-i,f=p-o,h=n/c,y=l/f,x=Math.min(h,y),g=u.map(function(e){return a(a({},e),{d:e.d.map(function(e){return{x:e.x*x,y:e.y*x}})})}),m=t+(n-c*x)/2,F=r+(l-f*x)/2;return g.map(function(e){return a(a({},e),{d:e.d.map(function(e){return{x:e.x+m,y:e.y+F}}),included:(e.included||[]).map(function(e){return e.map(function(e){return{x:(e.x-i)*x+m,y:(e.y-o)*x+F}})})})})}function p(e){var t=(new DOMParser).parseFromString(e,"image/svg+xml").getElementsByTagName("svg");return t&&0!==t.length?u(t[0]):[]}function u(e){for(var t=[],r=e.getElementsByTagName("path"),a=0;a<r.length;a++){var n=r[a];t.push({d:y(n),style:S(n)})}var l=e.getElementsByTagName("rect");for(a=0;a<l.length;a++){n=l[a];t.push({d:x(n),style:S(n)})}var i=e.getElementsByTagName("ellipse");for(a=0;a<i.length;a++){n=i[a];t.push({d:g(n),style:S(n)})}var s=e.getElementsByTagName("circle");for(a=0;a<s.length;a++){n=s[a];t.push({d:m(n),style:S(n)})}return t}function c(e){var t=e.type;return"x1"in e&&(t+=" "+e.x1),"y1"in e&&(t+=" "+e.y1),"x2"in e&&(t+=" "+e.x2),"y2"in e&&(t+=" "+e.y2),"x3"in e&&(t+=" "+e.x3),"y3"in e&&(t+=" "+e.y3),"x"in e&&(t+=" "+e.x),"y"in e&&(t+=" "+e.y),t}function f(e){var t=[],r="";return e.commands.forEach(function(e){if((r+=c(e)+" ")&&"Z"===e.type.toUpperCase()){var n=h(r);t.push({d:n,style:a(a({},A()),{fill:!0,fillStyle:"black",stroke:!1})}),r=""}}),t}function h(t){var r=[],a=v(t),n={x:0,y:0},l={x:0,y:0};return a.forEach(function(t){var a=[],s=null,o=null,p=null,u=null;switch(t[0]){case"M":case"L":a.push({x:parseFloat(t[1]),y:parseFloat(t[2])});break;case"m":case"l":a.push({x:n.x+parseFloat(t[1]),y:n.y+parseFloat(t[2])});break;case"H":a.push({x:parseFloat(t[1]),y:n.y});break;case"V":a.push({x:n.x,y:parseFloat(t[1])});break;case"h":a.push({x:n.x+parseFloat(t[1]),y:n.y});break;case"v":a.push({x:n.x,y:n.y+parseFloat(t[1])});break;case"Q":s=n,o={x:parseFloat(t[1]),y:parseFloat(t[2])},p={x:parseFloat(t[3]),y:parseFloat(t[4])},(a=e.approximateBezier([s,o,p],i.bezierSplitSize)).shift();break;case"q":o={x:(s=n).x+parseFloat(t[1]),y:s.y+parseFloat(t[2])},p={x:s.x+parseFloat(t[3]),y:s.y+parseFloat(t[4])},(a=e.approximateBezier([s,o,p],i.bezierSplitSize)).shift();break;case"T":s=n,o=e.getSymmetry(s,l),p={x:parseFloat(t[1]),y:parseFloat(t[2])},(a=e.approximateBezier([s,o,p],i.bezierSplitSize)).shift();break;case"t":s=n,o=e.getSymmetry(s,l),p={x:s.x+parseFloat(t[1]),y:s.y+parseFloat(t[2])},(a=e.approximateBezier([s,o,p],i.bezierSplitSize)).shift();break;case"C":s=n,o={x:parseFloat(t[1]),y:parseFloat(t[2])},p={x:parseFloat(t[3]),y:parseFloat(t[4])},u={x:parseFloat(t[5]),y:parseFloat(t[6])},(a=e.approximateBezier([s,o,p,u],i.bezierSplitSize)).shift();break;case"c":o={x:(s=n).x+parseFloat(t[1]),y:s.y+parseFloat(t[2])},p={x:s.x+parseFloat(t[3]),y:s.y+parseFloat(t[4])},u={x:s.x+parseFloat(t[5]),y:s.y+parseFloat(t[6])},(a=e.approximateBezier([s,o,p,u],i.bezierSplitSize)).shift();break;case"S":s=n,o=e.getSymmetry(s,l),p={x:parseFloat(t[1]),y:parseFloat(t[2])},u={x:parseFloat(t[3]),y:parseFloat(t[4])},(a=e.approximateBezier([s,o,p,u],i.bezierSplitSize)).shift();break;case"s":s=n,o=e.getSymmetry(s,l),p={x:s.x+parseFloat(t[1]),y:s.y+parseFloat(t[2])},u={x:s.x+parseFloat(t[3]),y:s.y+parseFloat(t[4])},(a=e.approximateBezier([s,o,p,u],i.bezierSplitSize)).shift();break;case"A":s=n,o={x:parseFloat(t[6]),y:parseFloat(t[7])},(a=e.approximateArcWithPoint(parseFloat(t[1]),parseFloat(t[2]),s,o,!!parseInt(t[4],10),!!parseInt(t[5],10),parseFloat(t[3])/180*Math.PI,i.bezierSplitSize)).shift();break;case"a":o={x:(s=n).x+parseFloat(t[6]),y:s.y+parseFloat(t[7])},(a=e.approximateArcWithPoint(parseFloat(t[1]),parseFloat(t[2]),s,o,!!parseInt(t[4],10),!!parseInt(t[5],10),parseFloat(t[3])/180*Math.PI,i.bezierSplitSize)).shift()}a.length>0&&(n=a[a.length-1],r=r.concat(a),a.length>1&&(l=a[a.length-2]))}),r}function y(e){var t=e.getAttribute("d");return t?F(e.getAttribute("transform"),h(t)):[]}function x(e){var t=[],r=parseFloat(e.getAttribute("x")||"0"),a=parseFloat(e.getAttribute("y")||"0"),n=parseFloat(e.getAttribute("width")||"0"),l=parseFloat(e.getAttribute("height")||"0");return t.push({x:r,y:a}),t.push({x:r+n,y:a}),t.push({x:r+n,y:a+l}),t.push({x:r,y:a+l}),t=F(e.getAttribute("transform"),t)}function g(t){var r=[],a=parseFloat(t.getAttribute("cx")||"0"),n=parseFloat(t.getAttribute("cy")||"0"),l=parseFloat(t.getAttribute("rx")||"1"),s=parseFloat(t.getAttribute("ry")||"1");return r=e.approximateArc(l,s,0,2*Math.PI,{x:a,y:n},0,i.ellipseSplitSize),r=F(t.getAttribute("transform"),r)}function m(t){var r=[],a=parseFloat(t.getAttribute("cx")||"0"),n=parseFloat(t.getAttribute("cy")||"0"),l=parseFloat(t.getAttribute("r")||"1");return r=e.approximateArc(l,l,0,2*Math.PI,{x:a,y:n},0,i.ellipseSplitSize),r=F(t.getAttribute("transform"),r)}function F(t,r){if(!t)return r;var a=e.cloneVectors(r);return t.split(/\)/).forEach(function(t){var r=t.split(/\(/);if(2===r.length){var n=r[0],l=[];switch(r[1].split(/,/).forEach(function(e){return l.push(parseFloat(e))}),n.trim().toLowerCase()){case"matrix":a=e.transform(a,l);break;case"translate":a=a.map(function(e){return{x:e.x+l[0],y:e.y+l[1]}});break;case"scale":var i=l[0],s=l[0];l.length>1&&(s=l[1]),a=a.map(function(e){return{x:e.x*i,y:e.y*s}});break;case"rotate":var o={x:0,y:0};l.length>2&&(o={x:l[1],y:l[2]}),a=a.map(function(t){return e.rotate(t,l[0]*Math.PI/180,o)});break;case"skewx":a=a.map(function(e){return{x:e.x+Math.tan(l[0]*Math.PI/180)*e.y,y:e.y}});break;case"skewy":a=a.map(function(e){return{x:e.x,y:e.y+Math.tan(l[0]*Math.PI/180)*e.x}})}}}),a}function v(e){for(var t=/M|m|L|l|H|h|V|v|C|c|S|s|Q|q|T|t|A|a|Z|z/g,r=e.replace(t," $& ").replace(/([^e])(-\d(\d*\.?)\d*)/g,"$1 $2 ").split(/,| /).filter(function(e){return e}),a="M",n=[],l=0;l<r.length;){var i=[];if(r[l].match(t)?(i[0]=r[l].trim(),a=i[0],l++):i[0]=a,i[0].match(/Z|z/));else if(i[0].match(/V|v|H|h/))i=i.concat(r.slice(l,l+1)),l+=1;else if(i[0].match(/M|m|L|l|T|t/))i=i.concat(r.slice(l,l+2)),l+=2;else if(i[0].match(/Q|q|S|s/))i=i.concat(r.slice(l,l+4)),l+=4;else if(i[0].match(/C|c/))i=i.concat(r.slice(l,l+6)),l+=6;else{if(!i[0].match(/A|a/))break;i=i.concat(r.slice(l,l+7)),l+=7}n.push(i)}return n}function b(e){var t=I(e);return(new XMLSerializer).serializeToString(t)}function I(e){var t=document.createElementNS(l,"svg"),r=1,a=1;return e.forEach(function(e){t.appendChild(d(e.d,e.style)),e.d.forEach(function(e){r=Math.max(r,e.x),a=Math.max(a,e.y)})}),r*=1.1,a*=1.1,t.setAttribute("width",""+r),t.setAttribute("height",""+a),t}function d(e,t){var r=document.createElementNS(l,"path");return r.setAttribute("d",E(e)),r.setAttribute("style",k(t)),r}function E(e,t){if(0===e.length)return"";var r=e[0],a=e.slice(1);return"M "+r.x+","+r.y+a.map(function(e){return" L "+e.x+","+e.y}).join("")+(t?"":" Z")}function A(){return{fill:!1,fillGlobalAlpha:1,fillStyle:"",lineCap:"butt",lineDash:[],lineJoin:"bevel",lineWidth:1,stroke:!1,strokeGlobalAlpha:1,strokeStyle:""}}function S(e){var t=A(),r={},a=e.getAttributeNode("style");a?a.value.split(";").forEach(function(e){var t=e.split(":");2===t.length&&(r[t[0].trim()]=t[1].trim())}):e.getAttributeNames().forEach(function(t){var a=e.getAttributeNode(t);a&&(r[a.name]=a.value)});return Object.keys(r).forEach(function(e){e=e.toLowerCase();var a=r[e];if("fill"===e)"none"===a?(t.fillStyle="",t.fill=!1):(t.fillStyle=a,t.fill=!0);else if("stroke"===e)"none"===a?(t.strokeStyle="",t.stroke=!1):(t.strokeStyle=a,t.stroke=!0);else if("stroke-width"===e)t.lineWidth=parseFloat(a);else if("stroke-opacity"===e)t.strokeGlobalAlpha=parseFloat(a);else if("fill-opacity"===e)t.fillGlobalAlpha=parseFloat(a);else if("stroke-linecap"===e)t.lineCap=a;else if("stroke-linejoin"===e)t.lineJoin=a;else if("stroke-dasharray"===e)if("none"===a.toLowerCase())t.lineDash=[];else{var n=a.split(",");t.lineDash=[],n.forEach(function(e){t.lineDash.push(parseFloat(e))})}}),t}function k(e){var t="";return e.fill?t+="fill:"+e.fillStyle+";":t+="fill:none;",e.fillGlobalAlpha&&(t+="fill-opacity:"+e.fillGlobalAlpha+";"),e.stroke?t+="stroke:"+e.strokeStyle+";":t+="stroke:none;",e.lineWidth&&(t+="stroke-width:"+e.lineWidth+";"),e.strokeGlobalAlpha&&(t+="stroke-opacity:"+e.strokeGlobalAlpha+";"),e.lineCap&&(t+="stroke-linecap:"+e.lineCap+";"),e.lineJoin&&(t+="stroke-linejoin:"+e.lineJoin+";"),e.lineDash&&(e.lineDash.length>0?t+="stroke-dasharray:"+e.lineDash.join(",")+";":t+="stroke-dasharray:none;"),t}function T(t,r){var a=e.splitPolyByLine(t.d,r);if(a.length<2)return[t];var l=e.getLoopwise(t.d),i=[],s=[];t.included&&t.included.forEach(function(t){e.getLoopwise(t)===l?i.push(t):s.push(t)}),i.forEach(function(t){var l=e.splitPolyByLine(t,r);a=n(n([],a),l.length>0?l:[t])});var o=[];s.forEach(function(t){e.splitPolyByLine(t,r).length>0?o.push(t):a.push(t)});var p=a.map(function(t){return o.reduce(function(t,r){return e.getPolygonNotPolygon(t,r)},t)});return e.getIncludedPolygonGroups(p).map(function(e){return{d:e[0],included:e.slice(1),style:t.style}})}function N(t,r){return void 0===r&&(r=A()),e.getIncludedPolygonGroups(t).map(function(e){return{d:e[0],included:e.slice(1),style:r}})}function z(e){return"matrix("+e.join(",")+")"}function P(t){var r=t.split(")").map(function(e){return e+")"}).map(function(e){return D(e)});return e.multiAffines(r)}function D(t){return/translateX/.test(t)?Y(t):/translateY/.test(t)?_(t):/translate/.test(t)?w(t):/skewX/.test(t)?B(t):/skewY/.test(t)?C(t):/scaleX/.test(t)?j(t):/scaleY/.test(t)?G(t):/scale/.test(t)?L(t):/rotate/.test(t)?O(t):/matrix/.test(t)?W(t):n([],e.IDENTITY_AFFINE)}function M(e){return e.trim().replace(/,/g," ").split(/ +/).map(function(e){return parseFloat(e)})}function w(t){var r=t.match(/translate\((.+)\)/);if(!r||r.length<1)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n([],e.IDENTITY_AFFINE):1===a.length?[1,0,0,1,a[0],0]:[1,0,0,1,a[0],a[1]]}function Y(t){var r=t.match(/translateX\((.+)\)/);if(!r||r.length<1)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n([],e.IDENTITY_AFFINE):[1,0,0,1,a[0],0]}function _(t){var r=t.match(/translateY\((.+)\)/);if(!r||r.length<1)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n([],e.IDENTITY_AFFINE):[1,0,0,1,0,a[0]]}function B(t){var r=t.match(/skewX\((.+)\)/);if(!r||r.length<1)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n([],e.IDENTITY_AFFINE):[1,0,Math.tan(a[0]*Math.PI/180),1,0,0]}function C(t){var r=t.match(/skewY\((.+)\)/);if(!r||r.length<1)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n([],e.IDENTITY_AFFINE):[1,Math.tan(a[0]*Math.PI/180),0,1,0,0]}function L(t){var r=t.match(/scale\((.+)\)/);if(!r||r.length<2)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n([],e.IDENTITY_AFFINE):1===a.length?[a[0],0,0,a[0],0,0]:[a[0],0,0,a[1],0,0]}function j(t){var r=t.match(/scaleX\((.+)\)/);if(!r||r.length<1)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n([],e.IDENTITY_AFFINE):[a[0],0,0,1,0,0]}function G(t){var r=t.match(/scaleY\((.+)\)/);if(!r||r.length<1)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<1?n([],e.IDENTITY_AFFINE):[1,0,0,a[0],0,0]}function O(t){var r=t.match(/rotate\((.+)\)/);if(!r||r.length<2)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);if(M.length<1)return n([],e.IDENTITY_AFFINE);var l=a[0]/180*Math.PI,i=Math.cos(l),s=Math.sin(l),o=[i,s,-s,i,0,0];return a.length>2?e.multiAffine(e.multiAffine([1,0,0,1,a[1],a[2]],o),[1,0,0,1,-a[1],-a[2]]):o}function W(t){var r=t.match(/matrix\((.+)\)/);if(!r||r.length<2)return n([],e.IDENTITY_AFFINE);var a=M(r[1]);return a.length<5?n([],e.IDENTITY_AFFINE):a.slice(0,6)}exports.configs=i;
},{"./geo":"WBaa"}],"ZCfc":[function(require,module,exports) {
"use strict";var e=n(require("../src/geo")),t=n(require("../src/svg"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=document.getElementById("canvas"),c=a.getContext("2d");if(c){c.clearRect(0,0,a.width,a.height);var l=[{x:0,y:0},{x:100,y:0},{x:0,y:100}],o=[{x:-100,y:-100},{x:-100,y:400},{x:200,y:-100}],f=[{x:-200,y:-200},{x:300,y:-200},{x:-200,y:600}],u=[{d:[{x:-300,y:50},{x:200,y:50},{x:200,y:100},{x:-300,y:100}],style:i(i({},t.createStyle()),{fill:!0,fillStyle:"red"})},{d:f,included:[o,l],style:i(i({},t.createStyle()),{fill:!0,fillStyle:"blue"})}],y=t.fitRect(u,0,0,a.width,a.height);y.forEach(function(e){return t.draw(c,e)})}var d=document.getElementById("input");d.onchange=function(r){var n=r.target.files;if(n&&0!==n.length){var i=new FileReader;i.readAsText(n[0]),i.onload=function(){if(c){c.clearRect(0,0,a.width,a.height);var r=t.parseSvgGraphicsStr(i.result);t.fitRect(r,0,0,a.width,a.height).forEach(function(r){e.triangleSplit(r.d).forEach(function(e){t.draw(c,{d:e,style:r.style})})})}}}};
},{"../src/geo":"WBaa","../src/svg":"tzhc"}]},{},["ZCfc"], null)
//# sourceMappingURL=main.4e925eac.js.map